20140331_era恋姫_統計パッチ

・やったこと
(1)軍事フェイズの終了時、各勢力の経済力と兵数を自動的に記憶するようにした
(2)記憶したデータを出力できるようにした

・試しに使うには
情報の記憶は軍事フェイズの終了時に自動で行われます。
統一後は(軍事フェイズがなくなるので)記録が行われなくなります。
記憶量は19勢力・過去200期です。それ以降は古い方から上書きします。

記憶した情報を表示するには、
[コンフィグ]＞[SLG部分に関する〜]＞[統計の設定と出力]
の中の[○○の記録を出力する]を叩いて下さい。

なお同梱のサンプルフォルダに出力例とエクセルで作ったグラフが入れてあります。

・「とりあえず」な部分について
(1)ファイル
とりあえず、SLG関係の情報だけを使うのでSLGフォルダに入れてあります。
ERHとSTATS_CONFIGは新しいファイルではなく既存のに追記した方がスッキリしたかもしれません。

(2)コマンド
とりあえず、上記の通りコンフィグの下に出力コマンドも入れてます。
これは設定項目ではないので不調和な気もしますが、100期に1回使うかというコマンドでもあり、
浅い層に出すと邪魔になりそうな気もして、置き場所に自信がありません。

この辺は他の方の意見を聞いておきたいです。

・編集元
era恋姫 20140319

・編集部位
/SLG/STATS.ERB を新規作成
/SLG/STATS_CONFIG.ERB を新規作成
/SLG/STATS_VARIABLE.ERH を新規作成

/SLG/SLG_TURNEND.ERB を編集
　55-56行目：ターン終了時に関数を呼び出す処理を追加
/SLG/SLG_TURNEND.ERB を編集
  65-66行目：表示項目の追加
  75-77行目：入力によって統計関係のコンフィグにジャンプする処理を追加

・このパッチでERBに追加された部位の扱いについて
era恋姫を編集する方は自由に扱って下さい。
