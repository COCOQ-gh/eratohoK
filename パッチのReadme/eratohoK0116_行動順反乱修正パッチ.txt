‡eratohoK ver0.116用行動順等乱数化＆反乱フラグ修正パッチ


‡‡うん、またなんだ
・ぬえと正邪の反乱決起フラグが立っているかの判定で値を逆に見ていたので永遠に決起することがなかったのを修正
・REBELLION.ERBの引数などを変更
　順に＜キャラ名＞,最低潜伏期間,所属勢力の最低支配都市数,所属勢力の最大支配都市数,決起確率となります。
　また、キャラ名以外は初期値（6,5,99,100）を設定しているので初期値のままでいいならキャラ名だけ指定するだけでも動作します。
あくまでも反乱に関する主要な状況をチェックするためだけの関数なので、細かい設定や実際どう反乱するかは各人の腕の見せどころだと思います。

‡‡それだけだと申し訳ないのでこれはおまけだよ
あと、毎回同じ順で行動するのも面白く無いのでどこかの野望みたいな感じにランダムで行動順を決めるようにしました。
この機能を導入するために追加で配列変数SHAFFLE_ARRAY（要素数500）を使用し、以下の関数を追加。
@FISHER_YATES_SHAFFLE(ARG:0)
ARG:0番目までの要素を対象にその名の通りFisher-Yatesアルゴリズムによる配列SHAFFLE_ARRAYのシャッフルを行う。
最初にSHAFFLE_ARRAYの各変数に配列番号と同じ数字を格納した後シャッフル。
SHAFFLE_ARRAY:0～SHAFFLE_ARRAY:(ARG:0 - 1)に0～ARG:0 - 1の値が1つずつランダムに格納される。

あとはこの配列の値を順に読み込むとランダムに配列を呼び出すことができます。

汎用関数置くところがわからなかったので、似たような（全く逆の）処理をするSORT.ERBに忍ばせました。


‡‡正しい反乱世界への旅立ち方
eratohoK正邪離反その他パッチ導入後このパッチのファイルを上書きしてください。

フラン反乱イベントはパッチ作者の方のがんばりに期待します（土下座）

‡‡やりたいこと
AIについて。
傾向を7種類ほど用意して各状況の判断閾値を配列変数に入れておき、状況毎に読み込んで判定させるとか。
AIデータが完全に数字の羅列になるのでアレなことになるのが問題ではありますが。

TWの休日出現場所判定にもこの辺のアルゴリズム導入したら、もう少し処理が早くなるのかなって思ってますがどうでしょう？




さて、本当にイベントどうしよう……
