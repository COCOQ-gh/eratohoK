*************************************
eratohoK　Ver0.120用
コスプレパッチ
作者:toroiya
*************************************
---------------------------------------
1.概要
　キャラにコスプレ衣装を着せて生活や戦闘を行わせるパッチです(戦闘方面での利益が主)

　コスプレ衣装を着せると、下記のようなメリットを受けられます

　・歌唱技能,料理技能の補正が強くなる(衣装嗜好Lv×2分だけ数値が上がります。本来50以上ないと一切の効果が無い各技能が30以上で効果を発揮するようになります)
　・妖術技能による攻撃・戦闘技能の補正が強くなる
　・兵士自体の士気が上昇し、戦果をあげやすくなる

　デメリットは以下の通りです
　・部隊が潰滅させられた際に、敵に捕まりやすくなる
　・武闘技能が少し低くなる(実値が下がるわけではなく、戦闘中に下方補正がかかる)

　また、キャラの能力に「衣装嗜好」レベルが新設されます
　・衣装嗜好レベルが上がるにつれ衣装補正が強くなります
　・衣装嗜好レベルを上げるには、キャラにコスプレ衣装を着せた上で「会いに行く」コマンドにて行動する必要があります
　・設定の都合上「捕虜の調教」や「閨に呼ぶ」コマンドでは衣装嗜好レベルは上がりません(恐らく全裸であるため)
　　しかし、期の進行によっても衣装嗜好レベルを上げることができます


　衣装を着せかえるための条件は存在しません
　しかし、好感度か依存度が低い内はメリットよりデメリットの方が強くなるため、お勧めできません
　基本的には大器晩成の要素です
　初期パートナーや子供キャラを育成する傍らに服装を着せ、衣装嗜好を鍛える運用を推奨します

----------------------------------------
2.適用方法
　「eratohoK　Ver1.20」の「ERB」に、このパッチに同梱された「ERB」フォルダを上書きしてください




↓↓以下、開発資料

----------------------------------------
2.使用した変数

　以下の変数を使用しているため、使用変数が競合するパッチとの併用はできません
　(番号割り当てを変更した場合、併用可能(変数指定は名称にて行っているため))

　ITEM
　　240,メイド服
　　241,踊り子衣装
　　242,巫女装束

　EXP
　　 32,衣装嗜好経験値

　ABL
　　 15,衣装嗜好

　CFLAG
　　 92,現在着ている衣服(0はデフォルト(普段着)、1:メイド服、2:踊り子衣装、3:巫女装束)

----------------------------------------
3.変更したファイル

　以下のファイルにて処理を変更、あるいは加筆しています
　以下のファイルに手を加えているパッチとの併用はできません
　(該当する処理を手動で追加する場合、併用可能)

○csvファイルの変更
　「Item.csv」に服装を追加
　「Exp.csv」に衣装嗜好経験値を追加
　「Abl.csv」に衣装嗜好を追加
　(「CFLAG.csv」は存在しないため変更無し)


○「今着ている服」という概念の追加

　「SHOP_ITEM.ERB」内の@SET_ITEMTERM
　　　各種衣装の開発期間を設定
　「SHOW_INFO.ERB」内の@SHOW_INFO
　　　着ている衣服の情報表示処理
　「_FUNCTION.ERB」内に@CLOTHE_NAME(式中関数)を追加
　　　衣装名を表示する関数、引数に使うのは衣装のIDである

　「SHOP_LIFE.ERB」内の@SHOW_SHOP_LIFE_A　@PRINT_LIFE_MENU　@EVENTBUY_LIFE_A　USERSHOP_LIFE_CHARA1
　　「服を替える」コマンド処理を追加(FLAG:7は1022を使用)

　「SHOP_LIFE.ERB」内に@CHECK_SELECTABLE1022を追加
　　「服を替える」コマンドにて選択可能なキャラを設定

○服の機能面実装(効果のこと)
　「SLG_TURNEND」内の@UNIT_SUPPORT_LEVEL　@CITY_SUPPORT_LEVEL
　　衣装による歌唱・料理技能への補正処理
　「SLG_TURNEND」内の@CITY_ATTACK_LEVEL　@CITY_DEFFENCE_LEVEL　@UNIT_ATTACK_LEVEL　@UNIT_DEFFENCE_LEVEL　
　　妖術技能での攻撃・防衛能力補正への衣装による補正処理
　　衣装によるマイナス補正、衣装嗜好によるプラス補正
　「SLG_TURNEND」内の@UNIT_BREAK_CAPTURE
　　部隊潰滅時の被捕獲率補正
　「SLG_TURNEND」内の@COUNTRY_ADD_SOLDIER　@VARY_ECONOMY
　　歌唱・料理技能への衣装補正(複利があるので、戦闘時より効力半減(最大+10))

○「衣装嗜好」の機能(経験値入手とレベルアップ処理)
　「ABL.ERB」内の@TRAIN_AUTO_ABLUP
　　衣装嗜好のレベルアップ処理
　「ABL.ERB」内に@TRAIN_AUTO_ABLUP_CLOTHEを追加
　　衣装嗜好のレベルアップ処理
　「SOURCE.ERB」内の@SOURCE_CHECK
　　衣装嗜好経験値の入手処理
　「TURNEND.ERB」内の@TURNEND_COMMON
　　ターン進行による衣装嗜好経験値入手処理及びレベルアップ処理