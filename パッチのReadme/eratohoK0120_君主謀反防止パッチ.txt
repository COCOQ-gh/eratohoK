◆eratohoK ver0.120用君主は謀反しないでくださいパッチ

◆◆概要
・反乱を起こしたぬえがぬえ勢力から出奔する現象を改善するために反乱チェック関数に加筆

◆◆予想される原因
　「eratohoK ver0.116用反乱フラグ関数＆二人が一緒に反乱パッチ」適用前に使用していた反乱フラグで二人のそれぞれの反乱状況をチェックするようにした結果、適用前に反乱が成立した状態で適用後のバージョンを使用することで正邪のフラグが立ったままになると同時にぬえのフラグが立っていない状態になります。
　このため、パッチ前にぬえが反乱した状態でパッチを適用すると正邪が氾濫しなくなるとともにぬえがもう一度反乱するようになるわけです。
　この回避策として反乱フラグを判定するときに「自身が君主であるかどうか」をチェックするようにしました。

◆◆変更内容
・REBELLION.ERB:26行目以降に追記
SIF CFLAG:(LOCAL:0):1 == LOCAL:0
	RETURNF 0
反乱予定者が君主であるかを判定（所属勢力は君主のキャラ番号なのを利用）。


◆◆このパッチの扱い方
このパッチ以前に公開されたパッチを順次適用後、このパッチ内のファイルを上書きしてください


◆◆パッチの改変などについて
　ご自由に改変、修正、別処理への流用などしてください。
　別バリアントへの移行もお気軽に行ってください。



◆◆過去の作成物（eratohoK限定）
eratohoK0110_スキマ埋めパッチ
eratohoK ver0.116用反乱フラグ関数＆二人が一緒に反乱パッチ
eratohoK ver0.116用行動順等乱数化＆反乱フラグ修正パッチ(いきなりやらかしました、ごめんなさい)
eratohoK ver0.120用各種修正＆調整パッチ
eratohoK ver0.120用君主は謀反しないでくださいパッチ＜これ




◆◆小話
・フラグの適切な振り直しについては？
　反乱した勢力が残っていればぬえと正邪の所属勢力を参照してどちらのフラグか判別する力技は可能です。
・パッチファイルのバージョンにドットがないのは？
　書庫ファイル保存時にzip書かないとレジストリにね、拡張子として残るんですよ……
　ついでに書庫名のデフォルトもどっと以降が消えるのもあっていまはこの形式でファイル名書くようになりました。
・今後の予定は？
　TW久しぶりに触りたいです、というより検証作業抜きでまったりやりたいです（そのほうが物足りない地の文を買う意欲がきっと出てくる、ハズ）

・パッチの公開に時間がかかったのは？
　引抜き処理を関数化する場合の仕様どうしようとか、
　関数側で移動までさせてしまうのか引きぬきリストを作ってふるい分けできるようにするのか悩んでいたとか、
　カナ名の簡易ジェネレータ作るとしてまじめに命名規則に従うのかなーとか、
　「名詞」＋「名詞／形容詞」でお茶濁そうかなとか、ネタで起動毎にリストを変えようかなとか（初期設定で名前のリスト登録をしているので）、
　色々考え込んでいるうちに煮込み過ぎた結果がこちらです。

いつものとおり、パッチによる不具合などがありましたら総合スレなんかで報告ください。
なるべく頑張ります。




そういや、TWにて竹林のアレは見た人いるのだろうか？（みすちーが店を開くので多分最もネタを見つけづらい場所だと思います）
