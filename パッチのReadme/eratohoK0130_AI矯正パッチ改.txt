〓eratohoK ver0.130用 AI侵攻ロジック修正パッチ改

〓〓概要
・勢力状況によって無限ループに陥る場合があったのを修正
・武将が編成可能か判定する部分の修正

〓〓バグ発生条件
わかっている限りでの条件は以下のとおりです
・何らかの理由で兵数が上限を超えた
・兵数の上限がAIごとに規定されている最低値を下回っている
・（好戦AI／ホフゴブリン以外は）部隊に編成可能な士官が一人以上いる状態で編成処理を開始する

間違っていたらごめんなさい


〓〓パッチ内容
・SLG_AI.ERB
　@AI_ACTION
　部隊編成に関するループを無限ループではなく最大10回に（どうせ10部隊しか作れないんだし）

　@CHECK_COMMANDER_BEST
　行動可能な武将の判別式を訂正

・SLG_AI_INVASION.ERB
　@SLG_AI_CAN_CREATE_UNIT
　兵数上限がAI毎の規定値を下回っている場合、雇用率の計算方法を「現在の兵数上限に対する全兵力の割合」から「現在の兵数上限に対する遊撃兵の割合」に変更
　＃行動開始時に防衛部隊は全て解体され、侵攻部隊編成後残存兵力で防衛部隊の振り分けを行っています
　判定結果をそのまま返り値にするのでLOCAL:0を使わず直接RETURNに送るように

　@SLG_AI_INVASION_CREATEUNIT
　AI毎の兵数計算基準に難易度補正を適用
　通常AIの残存兵数が規定値を下回っていた場合、全てではなく1/2を部隊に回すように
　CHECK_COMMANDER_BEST()の前にCALL TMP_CREATE_IS_FREE_MAPを追加
　兵数が0の場合も解隊してRETURN 0を返すように


〓〓〓導入方法
　パッチまとめ2015/09/28版に上書きしてください


〓その他
　普通に回すだけでは気づかない細かいミスが別のミスを直して発覚している状態です、ごめんなさい
　観戦モードではまだ外交AIがよく終盤まで残っている状況なので、内政や侵攻関係はデバッグ程度にとどめて外交処理に手を付けていこうかとおもいます。
　（弱い勢力を集中的に殴るロジックや連合の複数組成化も考えとしてはある）


〓〓〓〓〓〓〓〓〓〓〓〓〓〓〓パッチ履歴
eratohoK0110_スキマ埋めパッチ
eratohoK ver0.116用反乱フラグ関数＆二人が一緒に反乱パッチ
eratohoK ver0.116用行動順等乱数化＆反乱フラグ修正パッチ
eratohoK ver0.120用各種修正＆調整パッチ
eratohoK ver0.120用君主は謀反しないでくださいパッチ
eratohoK ver.0.120用 処理高速化パッチ
eratohoK ver0.122用 離反処理改善等パッチ
eratohoK 0.127用 バランス崩ｋ…調整パッチ
eratohoK ver0.129用 補正追加処理修正パッチ
eratohoK Ver0.129用 反乱関係修正パッチ
eratohoK ver0.129用 反乱軍蜂起都市選択関数＆反乱フラグ関数拡張パッチ
eratohoK ver0.130用 疲労補正調整＋決戦処理変更パッチ
eratohoK ver0.130用 敵勢力補正＆教育環境是正パッチ
eratohoK ver0.130用 AI施策設定ロジック改変パッチ
eratohoK ver0.130用 AI改変パッチ〜侵攻編
eratohoK ver0.130用 AI改変パッチ〜内政関係完結編
eratohoK ver0.130用 AI改変パッチ〜強権処理編
eratohoK ver0.130用 外交マトリクス表示設定パッチ
eratohoK ver0.130用 AI侵攻ロジック修正パッチ改＜自分で蒔いた種
