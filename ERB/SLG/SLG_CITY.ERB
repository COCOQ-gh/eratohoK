;-------------------------------------------------
;ìsésARG:0ÇÃèÓïÒÇï\é¶
;-------------------------------------------------
@SHOW_CITY_INFO(ARG:0)
#DIM ENEMY_LIST, 5
#DIM SPACE

FLAG:24 +=4

;éwíËÇ≥ÇÍÇΩìsésÇ‹ÇΩÇÕíÜåpínì_Ç™ë∂ç›ÇµÇ»Ç¢èÍçá
IF GET_RELAYNAME(ARG:0) == "ñ≥ñº"
	PRINTL é©ê®óÕÇÃìsésÅAé©ê®óÕÇ∆ó◊ê⁄Ç∑ÇÈìsésÇÃèÓïÒÇå©ÇÈÇ±Ç∆Ç™Ç≈Ç´Ç‹Ç∑
	PRINTL 
	PRINTL 
	PRINTL 
	RETURN
ENDIF

;ñhâqèÓïÒÇ™éQè∆â¬î\Ç©Ç«Ç§Ç©ÇÃÉtÉâÉO(é©ê®óÕÇÃìsésÅAÇ‹ÇΩÇÕé©ê®óÕÇ∆ó◊ê⁄Ç∑ÇÈìsésÇÃÇ›â¬î\ÅBäœêÌÉÇÅ[ÉhÇ»ÇÁëSÇƒâ¬)
LOCAL:4 = CFLAG:MASTER:1 >= 1 && (CITY_OWNER:(ARG:0) == CFLAG:MASTER:1 || IS_NEIGHBORING_COUNTRY(ARG:0, CFLAG:MASTER:1) >= 0)
LOCAL:4 = LOCAL:4 || FLAG:1

;ìsésè„ÇÃìGïîë‡ÇéÊìæÇµÅAïœêîENEMY_LISTÇ…ãLò^
CALL GET_STAY_ENEMY_UNIT(ARG:0)
FOR LOCAL:0, 0, 5
	ENEMY_LIST:(LOCAL:0) = RESULT:(LOCAL:0)
NEXT

;íÜåpínì_
IF CITY_TYPE:(ARG:0) == 1
	LOCALS:0 = ÅüíÜåpínì_(%GET_RELAYNAME(ARG:0)%)Åü
	SPACE = STRLENS(LOCALS:0)+1
	PRINTFORML %LOCALS:0%
	PRINTL 

	SETCOLOR 0xFF6030
	LOCAL:7 = 0
	FOR LOCAL:0, 0, 5
		LOCAL:8 = ENEMY_LIST:(LOCAL:0)
		IF LOCAL:8 >= 0
			LOCAL:6 = GET_COUNTRY_BOSS(LOCAL:8)
			IF LOCAL:6 >= 0
				IF !LOCAL:4
					PRINT <Ç±ÇÃèÍèäÇ…ÇÕ???åR
					LOCAL:7 = 1
					BREAK
				ELSE
					IF LOCAL:7
						PRINT ÅE
					ELSE
						PRINT <Ç±ÇÃèÍèäÇ…ÇÕ
					ENDIF
					PRINTFORM %NAME:(LOCAL:6)%åR
					LOCAL:7 = 1
				ENDIF
			ENDIF
		ENDIF
	NEXT
	IF LOCAL:7
		PRINT Ç™ë∂ç›ÇµÇ‹Ç∑>
	ENDIF
	RESETCOLOR
	PRINTL 
	IF (CITY_OWNER:(ARG:0) == CFLAG:MASTER:1 || IS_INVADABLE(ARG:0, CFLAG:MASTER:1) || FLAG:1) && IS_STAY_UNIT(ARG:0)
		PRINTBUTTON "[ïîë‡àÍóó]", 2500 + ARG:0
	ENDIF
	PRINTL 

;ìsés
ELSE
	LOCAL:6 = CITY_OWNER:(ARG:0)
	LOCAL:7 = GET_COUNTRY_BOSS(LOCAL:6)
	LOCALS:0 = Åü%GET_CITYNAME(ARG:0)%Åü
;	LOCALS:0 = %LOCALS:0%%TOSTR_SPACE((10 - STRLENS(LOCALS:0)) / 2 * 2)%
	LOCALS:0 = %LOCALS:0%%TOSTR_SPACE((16 - STRLENS(LOCALS:0)) / 2 * 2)%
	LOCALS  += " "
	SPACE = STRLENS(LOCALS:0)
	;SPACE = MAX(23, STRLENS(LOCALS:0))
	PRINTFORM %LOCALS:0%
	;CALL SPACER( MAX( 0, 23 - STRLENS(LOCALS:0) ) )
	PRINT èäëÆ:
	IF LOCAL:7 >= 0
		SETCOLOR COUNTRY_COLOR:(LOCAL:6)
		LOCALS:0 = %NAME:(LOCAL:7)%
		PRINTFORM %LOCALS:0%
		RESETCOLOR
		PRINTBUTTON "[êFïœçX]", LOCAL:6 + 600
	ELSE
		LOCALS:0 = ----
		PRINTFORM %LOCALS:0%
		SETCOLOR 0x606060
		PRINTPLAIN [êFïœçX]
		RESETCOLOR
	ENDIF
	PRINTPLAINFORM %TOSTR_SPACE(8 - STRLENS(LOCALS:0))%
	IF LOCAL:4
		LOCALS:0 = {CITY_SOLDIER:(ARG:0)}
	ELSE
		LOCALS:0 = ????
	ENDIF
	PRINTPLAINFORM   ñhâqï∫êî:%LOCALS:0%
	IF CFLAG:MASTER:1 >= 1 && LOCAL:6 == CFLAG:MASTER:1 && CONFIG:302 == 0
		IF ENEMY_LIST:0 >= 0
			SETCOLOR 0xA0A0A0
			FONTSTYLE 4
		ENDIF
		PRINTBUTTON "[ê›íË]", ARG:0 + 200
		RESETCOLOR
		FONTREGULAR
	ELSE
		SETCOLOR 0x606060
		PRINTPLAINFORM [ê›íË]
		RESETCOLOR
	ENDIF
	PRINTPLAINFORM %TOSTR_SPACE(8 - STRLENS(LOCALS:0))%
	IF LOCAL:4
		LOCALS:0 = %GET_CITY_COMMANDER_NAME(ARG:0)%
		IF LOCALS:0 == ""
			LOCALS:0 = ----
		ENDIF
		PRINTPLAINFORM éÁè´:%LOCALS:0%
	ELSE
		PRINTPLAINFORM éÁè´:????
	ENDIF
	IF CFLAG:MASTER:1 >= 1 && LOCAL:6 == CFLAG:MASTER:1 && CONFIG:302 == 0
		IF ENEMY_LIST:0 >= 0
			SETCOLOR 0xA0A0A0
			FONTSTYLE 4
		ENDIF
		PRINTBUTTON "[ê›íË]", ARG:0 + 400
		PRINT Å@
		PRINTBUTTON "[ñhâqâèú]", ARG:0 + 800
		RESETCOLOR
		FONTREGULAR
	ELSE
		SETCOLOR 0x606060
		PRINTPLAINFORM [ê›íË]
		RESETCOLOR
	ENDIF
	LOCAL:12 = 0
	FOR LOCAL:11,0,10
		SIF UNIT_POSITION:(CFLAG:MASTER:1):(LOCAL:11) == ARG:0 && UNIT_SOLDIER:(CFLAG:MASTER:1):(LOCAL:11) > 0
;		SIF UNIT_POSITION:(CFLAG:MASTER:1):(LOCAL:11) == ARG:0
			LOCAL:12 ++
	NEXT
;	SIF LOCAL:12
;	PRINTBUTTON " [ïîë‡íìóØíÜ]", 0
	PRINTL 
	
	CALL SPACER(SPACE)
	LOCAL:8 = CITY_ECONOMY:(ARG:0) * 3 / 10000 + 100
	PRINTFORM åoçœãKñÕ:{CITY_ECONOMY:(ARG:0) / 100, 4}/{CITY_ECONOMY_LIMIT:(ARG:0) / 100, 4}
	PRINTFORM      ñhâqî{ó¶:%DECIMAL_STRING(CITY_GUARD:(ARG:0), 2)%(ìsés)
	PRINTFORM Å~%DECIMAL_STRING(LOCAL:8, 2)%(åoçœ)
	PRINT Å~
	IF LOCAL:6 == CFLAG:MASTER:1
		SELECTCASE COUNTRY_POLICY:(CFLAG:MASTER:1)
			CASE 2
				PRINT 1.50
				LOCAL:9 = 15
			CASEELSE
				PRINT 1.00
				LOCAL:9 = 10
		ENDSELECT
		PRINTFORM (ê≠çÙ)ÅÅ%DECIMAL_STRING(CITY_GUARD:(ARG:0) * LOCAL:8 * LOCAL:9 / 1000, 2)%
	ELSEIF LOCAL:7 < 0
		PRINTFORM 1.00(ê≠çÙ)ÅÅ%DECIMAL_STRING(CITY_GUARD:(ARG:0) * LOCAL:8 / 100, 2)%
	ELSE
		PRINTFORM ????(ê≠çÙ)ÅÅ????
	ENDIF
	PRINTL 

	SETCOLOR 0xFF6030
	LOCAL:7 = 0
	FOR LOCAL:0, 0, 5
		LOCAL:8 = ENEMY_LIST:(LOCAL:0)
		IF LOCAL:8 >= 0 
			LOCAL:6 = GET_COUNTRY_BOSS(LOCAL:8)
			IF LOCAL:6 >= 0
				IF LOCAL:7
					PRINT ÅE
				ELSE
					PRINT <
				ENDIF
				PRINTFORM %NAME:(LOCAL:6)%åR
				LOCAL:7 = 1
			ENDIF
		ENDIF
	NEXT
	IF LOCAL:7
		PRINT Ç…ÇÊÇÈçUåÇÇéÛÇØÇƒÇ¢Ç‹Ç∑>
	ENDIF
	RESETCOLOR
	PRINTL 
	
	CALL SPACER(SPACE)

	IF CHECK_COUNTRY_RELATION_F(CITY_OWNER:(ARG:0), CFLAG:MASTER:1) <= 0 || CITY_OWNER:(ARG:0)==0
		IF IS_INVADABLE(ARG:0, CFLAG:MASTER:1)
			IF DAY < SLG_PP:1
				FONTSTYLE 4
				PRINT [êNçUÇ∑ÇÈ]
				FONTSTYLE 0
				SETCOLOR COLOR_CAUTION
				PRINTFORM  Å¶äJéníºå„ÇÃ{SLG_PP:1}ä˙ÇÕêNçUÇçsÇ§Ç±Ç∆Ç™Ç≈Ç´Ç‹ÇπÇÒ
				RESETCOLOR
			ELSEIF (GET_UNION_TARGET(CFLAG:MASTER:1) != -1 && GET_UNION_TARGET(CFLAG:MASTER:1) != CITY_OWNER:(ARG:0))
				LOCALS:8 '= NAME:(GET_COUNTRY_BOSS(GET_UNION_TARGET(CFLAG:MASTER:1)))
				FONTSTYLE 4
				PRINT [êNçUÇ∑ÇÈ]
				FONTSTYLE 0
				SETCOLOR COLOR_CAUTION
				PRINTFORM  Å¶îΩ%LOCALS:8%òAçáÇ…éQâ¡íÜÇ≈Ç†ÇÈÇΩÇﬂÅA%LOCALS:8%ê®óÕà»äOÇ÷ÇÃèoåÇÇ™Ç≈Ç´Ç‹ÇπÇÒ
				RESETCOLOR
			ELSE
				PRINTBUTTON "[êNçUÇ∑ÇÈ]", 2000+ARG:0
			ENDIF
			
		ELSE
			SETCOLOR COLOR_UNSELECTABLE
			PRINT [êNçUÇ∑ÇÈ]
			RESETCOLOR
		ENDIF
	ELSEIF CHECK_COUNTRY_RELATION_F(CITY_OWNER:(ARG:0), CFLAG:MASTER:1) >= 2
		IF DAY < SLG_PP:1
			FONTSTYLE 4
			PRINT [à⁄ìÆÇ∑ÇÈ]
			FONTSTYLE 0
			SETCOLOR COLOR_CAUTION
			PRINTFORM  Å¶äJéníºå„ÇÃ{SLG_PP:1}ä˙ÇÕà⁄ìÆÇçsÇ§Ç±Ç∆Ç™Ç≈Ç´Ç‹ÇπÇÒ
			RESETCOLOR
		ELSE
			PRINTBUTTON "[à⁄ìÆÇ∑ÇÈ]", 2000+ARG:0
		ENDIF
	ENDIF
	IF (CITY_OWNER:(ARG:0) == CFLAG:MASTER:1 || IS_INVADABLE(ARG:0, CFLAG:MASTER:1) || FLAG:1) && IS_STAY_UNIT(ARG:0)
		PRINTBUTTON "[ïîë‡àÍóó]", 2500 + ARG:0
	ENDIF
	IF LOCAL:12
		SETCOLOR 0xFF8000
		PRINTBUTTON " [ïîë‡íìóØíÜ]", 0
		RESETCOLOR
	ENDIF
	
	PRINTL 
ENDIF

@SPACER(ARG:0)
PRINTFORM %TOSTR_SPACE(ARG:0)%