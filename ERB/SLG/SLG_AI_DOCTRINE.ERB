;-------------------------------------------------
;●国家政策の決定
;政策メモ
;AIは専用の国策を取得できるようになる
;-------------------------------------------------
@SLG_AI_SETDOCTRINE(ARG:0)
;自国の経済力／限界値／発展率
#DIM ECONOMY
#DIM ECONOMY_LIMIT
#DIM ECONOMY_PERCENTAGE
;自国の兵数／非侵攻兵数／徴兵限界／雇用率／部隊に所属する兵を除く雇用率
#DIM MILITARY
#DIM MILITARY_FREE
#DIM MILITARY_LIMIT
#DIM MILITARY_PERCENTAGE
#DIM MILITARY_FREE_PERCENTAGE
;隣接する敵対勢力の最大経済力
;敵対ではない勢力の方でもチェック
#DIM ENEMY_ECONOMY
#DIM BORDER_ECONOMY

;こちらの現在の経済規模雄に対する相手の経済比（%計算）
#DIM ENEMY_ECONOMY_RATE
#DIM BORDER_ECONOMY_RATE

VARSET LOCAL
;経済及び軍事力の基礎情報を取得
ECONOMY = GET_SUM_ECONOMY(ARG:0)
ECONOMY_LIMIT = 0
WHILE 1
	LOCAL:0 = FINDELEMENT(CITY_OWNER, ARG:0, LOCAL:0)
	SIF LOCAL:0 == -1
		BREAK
	ECONOMY_LIMIT += CITY_ECONOMY_LIMIT:(LOCAL:0)
	LOCAL:0 ++
WEND
ECONOMY_PERCENTAGE = ECONOMY * 100 / MAX(ECONOMY_LIMIT, 1)

MILITARY = GET_SUM_SOLDIER(ARG:0)
MILITARY_LIMIT = ECONOMY * 100 / 1000
MILITARY_PERCENTAGE = MILITARY * 100 / MAX(MILITARY_LIMIT, 1)
FOR LOCAL:0, 0, 10
	LOCAL:1 += MAX(0, UNIT_SOLDIER:(ARG:0):(LOCAL:0))
NEXT
MILITARY_FREE = MILITARY - LOCAL:1
MILITARY_FREE_PERCENTAGE = MILITARY_FREE * 100 / MAX((MILITARY_LIMIT -LOCAL:1), 1)

ENEMY_ECONOMY = 0
BORDER_ECONOMY = 0
;DEBUGPRINTFORML {ARG:0}:CITY ECONOMY LIMIT = {自国経済限界}
;敵対勢力と隣接しているかどうかを判定
;経済比は別変数で管理するので略
FOR LOCAL:0, 1, MAX_COUNTRY
	IF IS_COUNTRY(LOCAL:0) && LOCAL:0 != ARG:0
		IF TMP_COUNTRY_IS_NEIBORING:(ARG:0):(LOCAL:0)
			SIF TMP_COUNTRY_RELATION:(ARG:0):(LOCAL:0) == 0
				ENEMY_ECONOMY = MAX(ENEMY_ECONOMY, GET_SUM_ECONOMY(LOCAL:0))
			BORDER_ECONOMY = MAX(BORDER_ECONOMY, GET_SUM_ECONOMY(LOCAL:0))
		ENDIF
	ENDIF
NEXT
ENEMY_ECONOMY_RATE = ENEMY_ECONOMY * 100 / MAX(ECONOMY, 1)
BORDER_ECONOMY_RATE = BORDER_ECONOMY * 100 / MAX(ECONOMY, 1)

;AIタイプ別に国策決定ルーチンの設定
;隣接状況は条件の一つに変換
;現状は分岐閾値と選択する方針でほぼ決まっているのでなにか考えたい
SELECTCASE COUNTRY_AI_TYPE:(ARG:0)
;通常タイプ(012345)
;経済と兵力の内割合的に不足している方を優先し、平均的に伸ばす
;隣接している場合は防衛兵力の割合と所有都市数などで判断する
CASE AI_通常
	SELECTCASE ENEMY_ECONOMY_RATE
	;敵対勢力と接していない
	CASE 0
		;経済と兵数の限界に対する保有率を確認（低ければランク２を選択し拡張を急ぐ、閾値は難易度により変化）
		SELECTCASE MIN(ECONOMY_PERCENTAGE, MILITARY_FREE_PERCENTAGE) - 10 + RAND:21
		;40+5*難易度未満、経済＞軍事なら軍事、逆なら経済に主眼
		CASE IS < (40 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 4 # 3
		;60+5*難易度未満、経済＞軍事なら軍事、逆なら経済に主眼
		CASE IS < (60 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 1 # 3
		;それ以上、経済＞軍事なら軍事、逆なら経済に主眼（攻められないから防御ペナルティは気にならない）
		CASEELSE
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 1 # 3
		ENDSELECT
	;敵対勢力と接触
	CASE 1 TO 50
		SELECTCASE MIN(ECONOMY_PERCENTAGE, MILITARY_FREE_PERCENTAGE) - 5 + RAND:11
		CASE IS < (50 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 4 # 3
		CASE IS < (65 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 4 # 0
		CASEELSE
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 1 # 2
		ENDSELECT
		SIF MILITARY_FREE_PERCENTAGE < 40 && GET_OWN_CITY(ARG:0) <= 4
			COUNTRY_POLICY:(ARG:0) = 5
	;敵国と接触
	;ここから兵数のみで警戒度を決める
	CASE 51 TO 100
		SELECTCASE MILITARY_FREE_PERCENTAGE - 10 + RAND:21
		CASE IS < (55 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 4 # 3
		CASE IS < (70 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 4 # 2
		CASEELSE
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 2 # 5
		ENDSELECT
		SIF MILITARY_FREE_PERCENTAGE < 60 && GET_OWN_CITY(ARG:0) <= 3
			COUNTRY_POLICY:(ARG:0) = 5
	;同規模の敵国と接触
	CASE 101 TO 200
		SELECTCASE MILITARY_FREE_PERCENTAGE - 5 + RAND:11
		CASE IS < (60 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 4 # 2
		CASE IS < (75 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = 2
		CASEELSE
			COUNTRY_POLICY:(ARG:0) = 5
		ENDSELECT
		SIF MILITARY_FREE_PERCENTAGE < 75 && GET_OWN_CITY(ARG:0) <= 2
			COUNTRY_POLICY:(ARG:0) = 5
	;敵大国と接触
	CASE IS > 200
		SELECTCASE MILITARY_FREE_PERCENTAGE - 5 + RAND:11
		CASE IS < (60 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0)  = 4
		CASE IS < (80 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = GET_OWN_CITY(ARG:0) <= 2 ? 1 # 5
		CASEELSE
			COUNTRY_POLICY:(ARG:0) = 5
		ENDSELECT
	CASEELSE
		COUNTRY_POLICY:(ARG:0) = RANDOM_ARRAY(0, 1, 2, 3, 4, 5)
	ENDSELECT
;好戦タイプ(02457)
;徴兵メイン時々経済のことも考える、でも強くは出ない
CASE AI_好戦
	SELECTCASE ENEMY_ECONOMY_RATE
	;敵対勢力と接していない
	CASE 0
		;経済と兵数の限界に対する保有率を確認（徴兵はランク3で加速するが経済は1のみ、閾値は難易度により変化）
		SELECTCASE MAX(ECONOMY_PERCENTAGE, MILITARY_FREE_PERCENTAGE) - 10 + RAND:21
		CASE IS < (60 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 7 # 0
		CASEELSE
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 4 # 0
		ENDSELECT
	;敵対勢力と接触
	CASE 1 TO 50
		SELECTCASE MAX(ECONOMY_PERCENTAGE, MILITARY_FREE_PERCENTAGE) - 5 + RAND:11
		CASE IS < (65 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 7 # 0
		CASEELSE
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 4 # 2
		ENDSELECT
		;兵数が明確に不足しているなら必ず軍拡を行う
		SIF MILITARY_PERCENTAGE < 40 
			COUNTRY_POLICY:(ARG:0) = 7
	;敵国と接触
	;ここから経済による分岐は最終判断に任せて兵数で警戒度を決める
	CASE 51 TO 100
		SELECTCASE MILITARY_FREE_PERCENTAGE - 10 + RAND:21
		CASE IS < (55 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 7 # 0
		CASE IS < (70 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 4 # 2
		CASEELSE
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 2 # 5
		ENDSELECT
		SIF MILITARY_PERCENTAGE < 50
			COUNTRY_POLICY:(ARG:0) = GET_OWN_CITY(ARG:0) <= 3 ? 5 # 7
	;同規模の敵国と接触
	CASE 101 TO 200
		SELECTCASE MILITARY_FREE_PERCENTAGE - 5 + RAND:11
		CASE IS < (60 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 4 # 2
		CASE IS < (75 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = 2
		CASEELSE
			COUNTRY_POLICY:(ARG:0) = 5
		ENDSELECT
		SIF MILITARY_PERCENTAGE < 60 && GET_OWN_CITY(ARG:0) <= 2
			COUNTRY_POLICY:(ARG:0) = 5
	;敵大国と接触
	CASE IS > 200
		SELECTCASE MILITARY_FREE_PERCENTAGE - 5 + RAND:11
		CASE IS < (60 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0)  = 4
		CASE IS < (80 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = GET_OWN_CITY(ARG:0) <= 2 ? 1 # 5
		CASEELSE
			COUNTRY_POLICY:(ARG:0) = 5
		ENDSELECT
	CASEELSE
		COUNTRY_POLICY:(ARG:0) = RANDOM_ARRAY(0, 2, 4, 5, 7)
	ENDSELECT
	;ただし、状況に関係なく連合を組んでいると軍拡しか考えない
	SIF GET_UNION_TARGET(ARG:0) > 0
		COUNTRY_POLICY:(ARG:0) = 7
;防衛タイプ(01358)
;ある程度経済を回して安定したところで引きこもり
CASE AI_防衛
	SELECTCASE ENEMY_ECONOMY_RATE
	;敵対勢力と接していない
	CASE 0
		;経済と兵数の限界に対する保有率を確認（低ければランク２を選択し拡張を急ぐ、閾値は難易度により変化）
		SELECTCASE MAX(ECONOMY_PERCENTAGE, MILITARY_FREE_PERCENTAGE) - 10 + RAND:21
		CASE IS < (60 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 1 # 3
		CASEELSE
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 1 # 3
		ENDSELECT
	;敵対勢力と接触
	CASE 1 TO 50
		SELECTCASE MAX(ECONOMY_PERCENTAGE, MILITARY_FREE_PERCENTAGE) - 5 + RAND:11
		CASE IS < (45 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 1 # 3
		CASE IS < (65 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 1 # 0
		CASEELSE
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 1 # 5
		ENDSELECT
		SIF MILITARY_FREE_PERCENTAGE < 40 && GET_OWN_CITY(ARG:0) <= 3
			COUNTRY_POLICY:(ARG:0) = 8
	;敵国と接触
	;ここから兵数のみで警戒度を決める
	CASE 50 TO 100
		SELECTCASE MILITARY_FREE_PERCENTAGE - 10 + RAND:21
		CASE IS < (50 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 1 # 3
		CASE IS < (70 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 1 # 5
		CASEELSE
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 5 # 8
		ENDSELECT
		SIF MILITARY_FREE_PERCENTAGE < 60 && GET_OWN_CITY(ARG:0) <= 2
			COUNTRY_POLICY:(ARG:0) = 8
	;同規模の敵国と接触
	CASE 100 TO 200
		SELECTCASE MILITARY_FREE_PERCENTAGE - 5 + RAND:11
		CASE IS < (60 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 1 # 5
		CASE IS < (75 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = 5
		CASEELSE
			COUNTRY_POLICY:(ARG:0) = 8
		ENDSELECT
		SIF MILITARY_FREE_PERCENTAGE < 75 && GET_OWN_CITY(ARG:0) <= 2
			COUNTRY_POLICY:(ARG:0) = 8
	;敵大国と接触
	CASE IS > 200
		SELECTCASE MILITARY_FREE_PERCENTAGE - 5 + RAND:11
		CASE IS < (60 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = 5
		CASEELSE
			COUNTRY_POLICY:(ARG:0) = 8
		ENDSELECT
	CASEELSE
		COUNTRY_POLICY:(ARG:0) = RANDOM_ARRAY(0, 1, 3, 5, 8)
	ENDSELECT
;外交タイプ(01235)
;他国との関係に余計な波を立たせないために軍事ランク2は封印
CASE AI_外交
	SELECTCASE LOCAL:2
	;敵対勢力と接していない
	CASE 0
		COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 1 # 3
	;敵対勢力と接触
	CASE 1
		SELECTCASE MAX(ECONOMY_PERCENTAGE, MILITARY_FREE_PERCENTAGE) - 5 + RAND:11
		CASE IS < (55 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 1 # 3
		CASE IS < (70 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 1 # 0
		CASEELSE
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 1 # 2
		ENDSELECT
		SIF MILITARY_FREE_PERCENTAGE < 40 && GET_OWN_CITY(ARG:0) <= 2
			COUNTRY_POLICY:(ARG:0) = 5
	;敵国と接触
	;ここから兵数のみで警戒度を決める
	CASE 2
		SELECTCASE MILITARY_FREE_PERCENTAGE - 10 + RAND:21
		CASE IS < (60 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 1 # 3
		CASE IS < (75 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 1 # 2
		CASEELSE
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 5 # 2
		ENDSELECT
		SIF MILITARY_FREE_PERCENTAGE < 60 && GET_OWN_CITY(ARG:0) <= 2
			COUNTRY_POLICY:(ARG:0) = 5
	;同規模の敵国と接触
	CASE 3
		SELECTCASE MILITARY_FREE_PERCENTAGE - 5 + RAND:11
		CASE IS < (65 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 1 # 2
		CASE IS < (70 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = 2
		CASEELSE
			COUNTRY_POLICY:(ARG:0) = 5
		ENDSELECT
		SIF MILITARY_FREE_PERCENTAGE < 75 && GET_OWN_CITY(ARG:0) <= 2
			COUNTRY_POLICY:(ARG:0) = 5
	;敵大国と接触
	CASE 4
		SELECTCASE MILITARY_FREE_PERCENTAGE - 5 + RAND:11
		CASE IS < (70 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0)  = 1
		CASE IS < (80 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = GET_OWN_CITY(ARG:0) <= 2 ? 1 # 5
		CASEELSE
			COUNTRY_POLICY:(ARG:0) = 5
		ENDSELECT
	CASEELSE
		COUNTRY_POLICY:(ARG:0) = RANDOM_ARRAY(0, 1, 2, 3, 5)
	ENDSELECT
;内政タイプ(12346)
;経済早回しで土台を固めて安定した雇用を
CASE AI_内政
	SELECTCASE ENEMY_ECONOMY_RATE
	;敵対勢力と接していない
	CASE 0
		;経済と兵数の限界に対する保有率を確認（低ければランク２を選択し拡張を急ぐ、閾値は難易度により変化）
		SELECTCASE MAX(ECONOMY_PERCENTAGE, MILITARY_FREE_PERCENTAGE) - 10 + RAND:21
		;40+5*難易度未満、経済＞軍事なら軍事、逆なら経済に主眼
		CASE IS < (30 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 4 # 6
		;60+5*難易度未満、経済＞軍事なら軍事、逆なら経済に主眼
		CASE IS < (50 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 4 # 6
		;それ以上、経済＞軍事なら軍事、逆なら経済に主眼（攻められないから防御ペナルティは気にならない）
		CASEELSE
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 1 # 6
		ENDSELECT
	;敵対勢力と接触
	CASE 1 TO 50
		SELECTCASE MAX(ECONOMY_PERCENTAGE, MILITARY_FREE_PERCENTAGE) - 5 + RAND:11
		CASE IS < (40 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 4 # 6
		CASE IS < (55 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 4 # 3
		CASEELSE
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 1 # 2
		ENDSELECT
		SIF MILITARY_FREE_PERCENTAGE < 40 && GET_OWN_CITY(ARG:0) <= 4
			COUNTRY_POLICY:(ARG:0) = 2
	;敵国と接触
	;ここから兵数のみで警戒度を決める
	CASE 51 TO 100
		SELECTCASE MILITARY_FREE_PERCENTAGE - 10 + RAND:21
		CASE IS < (50 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 4 # 6
		CASE IS < (60 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 4 # 3
		CASEELSE
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 1 # 2
		ENDSELECT
		SIF MILITARY_FREE_PERCENTAGE < 60 && GET_OWN_CITY(ARG:0) <= 3
			COUNTRY_POLICY:(ARG:0) = 5
	;同規模の敵国と接触
	CASE 101 TO 200
		SELECTCASE MILITARY_FREE_PERCENTAGE - 5 + RAND:11
		CASE IS < (60 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 4 # 3
		CASE IS < (75 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 4 # 2
		CASEELSE
			COUNTRY_POLICY:(ARG:0) = 2
		ENDSELECT
		SIF MILITARY_FREE_PERCENTAGE < 75 && GET_OWN_CITY(ARG:0) <= 3
			COUNTRY_POLICY:(ARG:0) = 2
	;敵大国と接触
	CASE IS > 200
		SELECTCASE MILITARY_FREE_PERCENTAGE - 5 + RAND:11
		CASE IS < (60 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0)  = 4
		CASE IS < (80 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = GET_OWN_CITY(ARG:0) <= 2 ? 1 # 2
		CASEELSE
			COUNTRY_POLICY:(ARG:0) = 2
		ENDSELECT
	CASEELSE
		COUNTRY_POLICY:(ARG:0) = RANDOM_ARRAY(1, 2, 3, 4, 6)
	ENDSELECT
	;ただし、状況に関係なく連合を組んでいると経済しか考えない
	SIF GET_UNION_TARGET(ARG:0) > 0
		COUNTRY_POLICY:(ARG:0) = 6

;蛮行タイプ(247)
;脳筋。
CASE AI_蛮行
	SELECTCASE ENEMY_ECONOMY_RATE
	;敵対勢力と接していない
	CASE 0
		COUNTRY_POLICY:(ARG:0) = 7
	;敵対勢力と接触
	CASE 1 TO 50
		COUNTRY_POLICY:(ARG:0) = 7
	;敵国と接触
	;ここから兵数のみで警戒度を決める
	CASE 51 TO 100
		COUNTRY_POLICY:(ARG:0) = MILITARY_FREE > 500000 ? 2 # 7
	;同規模の敵国と接触
	CASE 101 TO 200
		COUNTRY_POLICY:(ARG:0) = MILITARY > 500000 ? 2 # 7
	;敵大国と接触
	CASE IS > 200
		COUNTRY_POLICY:(ARG:0) = 2
	CASEELSE
		COUNTRY_POLICY:(ARG:0) = RANDOM_ARRAY(2, 4, 7)
	ENDSELECT

;ホフゴブリン(12458)
;若干守り気味の脳筋
CASE AI_ホフゴブリン
	SELECTCASE ENEMY_ECONOMY_RATE
	;敵対勢力と接していない
	CASE 0
		COUNTRY_POLICY:(ARG:0) = 4
	;敵対勢力と接触
	CASE 1 TO 50
		SELECTCASE MAX(ECONOMY_PERCENTAGE, MILITARY_FREE_PERCENTAGE) - 5 + RAND:11
		CASE IS < (30 + 10 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = 4
		CASE IS < (45 + 10 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 4 # 2
		CASEELSE
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 1 # 5
		ENDSELECT
		SIF MILITARY_FREE_PERCENTAGE < 40 && GET_OWN_CITY(ARG:0) <= 4
			COUNTRY_POLICY:(ARG:0) = 8
	;敵国と接触
	;ここから兵数のみで警戒度を決める
	CASE 51 TO 100
		SELECTCASE MILITARY_FREE_PERCENTAGE - 10 + RAND:21
		CASE IS < (40 + 10 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 4 # 2
		CASE IS < (50 + 10 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 1 # 5
		CASEELSE
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 5 # 8
		ENDSELECT
		SIF MILITARY_FREE_PERCENTAGE < 60 && GET_OWN_CITY(ARG:0) <= 3
			COUNTRY_POLICY:(ARG:0) = 8
	;同規模の敵国と接触
	CASE 101 TO 200
		SELECTCASE MILITARY_FREE_PERCENTAGE - 5 + RAND:11
		CASE IS < (55 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 4 # 5
		CASE IS < (65 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = ECONOMY_PERCENTAGE >= MILITARY_FREE_PERCENTAGE ? 4 # 8
		CASEELSE
			COUNTRY_POLICY:(ARG:0) = 8
		ENDSELECT
		SIF MILITARY_FREE_PERCENTAGE < 75 && GET_OWN_CITY(ARG:0) <= 3
			COUNTRY_POLICY:(ARG:0) = 8
	;敵大国と接触
	CASE IS > 200
		SELECTCASE MILITARY_FREE_PERCENTAGE - 5 + RAND:11
		CASE IS < (60 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0)  = 4
		CASE IS < (80 + 5 * CONFIG:300)
			COUNTRY_POLICY:(ARG:0) = GET_OWN_CITY(ARG:0) <= 2 ? 4 # 5
		CASEELSE
			COUNTRY_POLICY:(ARG:0) = 8
		ENDSELECT
	CASEELSE
		COUNTRY_POLICY:(ARG:0) = RANDOM_ARRAY(1, 2, 4, 5, 8)
	ENDSELECT
ENDSELECT

	;DEBUGPRINTFORML COUNTRY_POLICY:{COUNTRY_POLICY:(ARG:0)}

