@TALENT_TRAINER
#DIM 対象
#DIM 種別, 18
#DIM 価格, 18

;15期以降で2.5%
IF !(DAY >= 15 && RAND:1000 < 25)
	RETURN 0
ENDIF


種別:0 = GETNUM(TALENT, "治療")
価格:0 = 30000

種別:1 = GETNUM(TALENT, "努力家")
価格:1 = 25000

種別:2 = GETNUM(TALENT, "策士")
価格:2 = 30000

種別:3 = GETNUM(TALENT, "明察")
価格:3 = 50000

種別:4 = GETNUM(TALENT, "ステゴロ")
価格:4 = 20000

種別:5 = GETNUM(TALENT, "三種の神器")
価格:5 = 40000

種別:6 = GETNUM(TALENT, "下克上等")
価格:6 = 30000

種別:7 = GETNUM(TALENT, "魔力転換")
価格:7 = 20000

種別:8 = GETNUM(TALENT, "突貫")
価格:8 = 25000

種別:9 = GETNUM(TALENT, "バンドガール")
価格:9 = 50000

種別:10 = GETNUM(TALENT, "哨戒")
価格:10 = 20000

種別:11 = GETNUM(TALENT, "防衛戦術")
価格:11 = 25000

種別:12 = GETNUM(TALENT, "暗殺")
価格:12 = 50000

種別:13 = GETNUM(TALENT, "弁舌")
価格:13 = 50000

種別:14 = GETNUM(TALENT, "早足")
価格:14 = 10000

種別:15 = GETNUM(TALENT, "風説流布")
価格:15 = 30000

種別:16 = GETNUM(TALENT, "手練手管")
価格:16 = 30000

種別:17 = GETNUM(TALENT, "疾風迅雷")
価格:17 = 60000

DRAWLINE
IF DVAR:素質トレーナー == 0
	PRINTFORML %ANAME(MASTER)%が仕事をしていると、侍従が来客を告げた
	PRINTFORML なんでも「やけにうるさい男が来た」のだそうだ
	PRINTFORMW どれくらいうるさいのかと思った%ANAME(MASTER)%は、会うことにしてみた
	PRINTFORML ・
	PRINTFORML ・
	PRINTFORML ・
	PRINTFORML 「ウオーーーッ！！！！　君が%ANAME(MASTER)%か！！！！！　会えて光栄だ！！！！！！！！」
	PRINTFORMW 「私は『ムキムキマッチョ☆筋肉マッスル塾』塾長！！！　男山　隆太郎だ！！！！！！！！」
	PRINTFORML 「実は今日は！！　君にいい話を持ってきた！！！　まぁ聞いてくれ！！！！！！！！！」
	PRINTFORML 「僕は色んな人に素質を教えて回っている！！！　戦いに役立つ素質をね！！！！！！！！」
	PRINTFORMW 「こんなご時世だ！！！！！！　身を守るためにも是非とも覚えてみないか！！！！！！？」
ELSE
	PRINTFORML 「やあ！！！！！！！！！　また会ったな！！！！！！！！！！！！！！！！」
	PRINTFORML 「覚えているかい！！！！？！？　ムキムキ筋肉♂マッスルハート塾の男山だ！！！！！！」
	PRINTFORMW 「また特殊能力を教えに来たぞ！！！！！！！！！！！！！！！！！！！！！！！！！！！」
ENDIF
PRINTFORML 「まぁ正直安くはないけど！！！！！！！！　でも！！素晴らしい素質ばかりだ！！！！！！！
PRINTFORMW 「どうだ！！！？　いい話だと思わないか！！！！！！？！！！？！？！！！？？？？」
PRINTFORML 男は終始うるさかったが、持ってきた話自体は悪いものではなかった
PRINTFORML 安くないらしいが、考える価値はあるだろう
PRINTFORMW さて、どうするか……
CALL ASK_YN("おしえてもらう！！！！！！！！！！！！！！", "暑苦しいのでやめておく")

IF RESULT == 1
	$CANCEL
	PRINTFORMW 「ムムムッ！！！！！！？　そうか！！！！！！　そういうこともあるよな！！！！！」
	PRINTFORMW 「それならば仕方あるまい！！！！！　私は立ち去るとするよ！！！！！！！！！！！」
ELSEIF RESULT == 0
	$TRAIN_LOOP
	PRINTFORML 「あいわかった！！！！！！！！！　では誰に教えたいのか決めてシルブプレ！！！！！！！！！！！」
	DRAWLINE
	;対象を決める
	CALL SLG_CHARA_LIST
	SIF RESULT == -1
		GOTO CANCEL
	対象 = RESULT
	PRINTFORMW 「%ANAME(対象)%さんか！！！！！！！　あい分かった！！！！！！！！！！！！１！！！！！」
	PRINTFORMW 「では何を教えたいのか決めてシルブプレ！！！！！！！！！！！！！！！！！！！！！！！！」
	PRINTFORML 現在の金:{MONEY}
	DRAWLINE
	;種類を決める
	FOR LOCAL, 0, VARSIZE("種別")
		IF MONEY >= 価格:LOCAL && !TALENT:対象:(種別:LOCAL)
			PRINTFORML [{LOCAL, 2, RIGHT}] %TALENTNAME:(種別:LOCAL), 14, LEFT% 価格:{価格:LOCAL}
		ELSE
			SETCOLOR COLOR("選択不可")
			PRINTPLAINFORM [{LOCAL, 2, RIGHT}] %TALENTNAME:(種別:LOCAL), 14, LEFT% 価格:{価格:LOCAL}
			RESETCOLOR
			PRINTL
		ENDIF
	NEXT
	PRINTFORML [99] 戻る！！！！！！！！！！！！！！！！！！！！
	$INPUT_LOOP
	INPUT
	IF RESULT == 99
		GOTO TRAIN_LOOP
	ELSEIF  RESULT < 0 || VARSIZE("種別") <= RESULT || TALENT:対象:(種別:RESULT) || MONEY < 価格:RESULT
		GOTO INPUT_LOOP
	ELSE
		LOCAL:1 = 種別:RESULT
		LOCAL:2 = 価格:RESULT
		PRINTFORMW 「%TALENTNAME:(LOCAL:1)%だな！！！！！！！！！！！　いいよね！！！！！！！！！　筋肉って感じもするしな！！！！！！！！！！！！」
		PRINTFORMW 「じゃあちょっと%ANAME(対象)%さんをお借りするよ！！！！！！！！！！！！！　ちょっと待っててくれな！！！！！！！！！！！！！１」
		PRINTFORMW ・
		PRINTFORMW ・
		PRINTFORMW ・
		CALL KOJO_EVENT_DAILY(対象, 口上_素質トレーナー)
		SELECTCASE RAND:3
			CASE 0	
				PRINTFORMW 「いいか！！！！！！！！！！！！！　筋肉だ！！！！！！！！！！！！！１　筋肉が全てなんだ！！！！！！！」
				PRINTFORMW 「筋肉に全てを捧げろ！！！！！！！！！１　ｳｵｰｰｯ！！！！！　マッスルマッスル！！！！！！！！！！！！！」
			CASE 1
				PRINTFORMW 「いいか！！！！！！！！！！！　筋肉がコツだ！！！！！！！！！！　頑張れ！！！！！！！１」
				PRINTFORMW 「持てる筋肉を全て使え！！！！！！！！！！！！！！！　ぬおおおおおおお！！！！！！！！！」
			CASE 2
				PRINTFORMW 「筋肉！！！！！！！！１　肉！！！！！！！！　マッスル！！！！！！！！　ぬうう！！！！！」
				PRINTFORMW 「どうした！！！！　声が小さいぞ！！！！！！！！　ほら！！！！　恥ずかしがらないで！！！！！！！」
				PRINTFORMW 「筋肉！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！１１」
		ENDSELECT
		PRINTFORMW ・
		PRINTFORMW ・
		PRINTFORMW ・
		PRINTFORMW 「ふう！！！！！！！！！！　いい汗かいた！！！！！！！！！」
		PRINTFORMW 「結果はバッチリだったよ！！！！！！！！！！　飲み込みが早くて素晴らしいな！！！！！！！！！！」
		CALL COLORPRINTFORM(@"%ANAME(対象)%は%TALENTNAME:(LOCAL:1)%を習得した！！！！！！！！！！！！！！", COLOR("注意"), "W")
		PRINTFORMW 「じゃあ僕は失礼するよ！！！！！！！！！！！！　また会えるといいな！！！！！！！！！１」
		PRINTFORMW 男は立ち去っていった！！！！！！！！！！！！！！！！！！！！！！！！！！！！！
		TALENT:対象:(LOCAL:1) = 1
		MONEY -= LOCAL:2
	ENDIF
ENDIF
DVAR:素質トレーナー = 1