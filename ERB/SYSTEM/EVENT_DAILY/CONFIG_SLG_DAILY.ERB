;-------------------------------------------------
;ＳＬＧ部分に関する設定
;-------------------------------------------------
@CONFIG_SLG_DAILY
#DIM コンフィグ所属, SLG_DAILY_GENRE_NUM, 299
#DIM イベント数, SLG_DAILY_GENRE_NUM
#DIM 表示, SLG_DAILY_GENRE_NUM
#DIMS CONST ジャンル名 = "スケベ", "ＳＬＧ", "その他"
#DIM 選択項目
#DIM 選択番号
#DIMS EVENT_NAME_ENG
#DIMS EVENT_NAME_JAP
#DIM FIRST_LINE
VARSET コンフィグ所属, -1
VARSET イベント数
VARSET 表示
FOR LOCAL, 0, VARSIZE("SLG_DAILY_DISABLE")
	EVENT_NAME_ENG = %SLG_DAILY_DISABLE_NAME:LOCAL%
	TRYCCALLFORM SLG_EVENT_DAILY_%EVENT_NAME_ENG%_GENRE
	コンフィグ所属:RESULT:(イベント数:RESULT) = LOCAL
	イベント数:RESULT++
	DEBUGPRINTFORML %EVENT_NAME_ENG%:{RESULT}
	CATCH
		DEBUGPRINTFORML %EVENT_NAME_ENG%見つからず
	ENDCATCH
NEXT


FIRST_LINE = LINECOUNT

$SHOW_LOOP

DRAWLINE
PRINTFORML デイリーのコンフィグを設定します
DRAWLINE

FOR LOCAL, 0, SLG_DAILY_GENRE_NUM
	PRINTFORM ◇　%ジャンル名:LOCAL, 10, LEFT% 
	PRINTBUTTON @"[切り替え]", LOCAL * 300 + 99
	PRINTL
	SIF 表示:LOCAL == 0
		CONTINUE
	FOR LOCAL:1, 0, VARSIZE("コンフィグ所属", 1)
		SIF コンフィグ所属:LOCAL:(LOCAL:1) == -1
			BREAK
		IF DAILY_DISABLE:(コンフィグ所属:LOCAL:(LOCAL:1))
			SETCOLOR COLOR("選択不可")
		ENDIF
		EVENT_NAME_JAP = %DAILY_EVENT_NAME:デイリー_ＳＬＧ:GET_DAILY_INDEX_FROM_ENG(デイリー_ＳＬＧ, SLG_DAILY_DISABLE_NAME:(コンフィグ所属:LOCAL:(LOCAL:1)))%
		PRINTBUTTON @"\@ SLG_DAILY_DISABLE:(コンフィグ所属:LOCAL:(LOCAL:1)) ? [オフ] # [オン] \@", LOCAL * 300 + LOCAL:1
		PRINTFORM %TOSTR_SPACE(5)%
		PRINTFORM %EVENT_NAME_JAP, 30, LEFT%
		PRINTL
	NEXT
NEXT
DRAWLINE
PRINTFORML [9990] デイリー発生倍率 - {SLG_DAILY_EVENT_ODDS}
PRINTFORML [9991] デイリー発生個数 - {SLG_DAILY_EVENT_COUNT}
PRINTFORML [9999] 戻る
INPUT
IF RESULT == 9999
	RETURN
ELSEIF GROUPMATCH(RESULT, 9990, 9991)
	SELECTCASE RESULT
		CASE 9990
			SLG_DAILY_EVENT_ODDS = ROUND_INCREMENT(SLG_DAILY_EVENT_ODDS, 0, 10)
		CASE 9991
			SLG_DAILY_EVENT_COUNT = ROUND_INCREMENT(SLG_DAILY_EVENT_COUNT, 0, 10)
	ENDSELECT
ELSE
	選択項目 = RESULT / 300
	選択番号 = RESULT % 300
	PRINTFORML {選択項目}
	PRINTFORML {選択番号}
	IF !INRANGE(選択項目, 0, VARSIZE("コンフィグ所属", 0))
		CLEARLINE LINECOUNT - FIRST_LINE
		GOTO SHOW_LOOP
	ENDIF
	IF 選択番号 == 99
		表示:選択項目 = !表示:選択項目
	ELSEIF コンフィグ所属:選択項目:選択番号 == -1
	ELSE
		SLG_DAILY_DISABLE:(コンフィグ所属:選択項目:選択番号) = !SLG_DAILY_DISABLE:(コンフィグ所属:選択項目:選択番号)
	ENDIF
	CLEARLINE LINECOUNT - FIRST_LINE
	GOTO SHOW_LOOP
ENDIF

;死に分岐
CLEARLINE LINECOUNT - FIRST_LINE
GOTO SHOW_LOOP

