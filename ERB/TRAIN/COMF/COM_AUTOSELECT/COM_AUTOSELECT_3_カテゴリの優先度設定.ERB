;-------------------------------------------------
;# COM_AUTOSELECT_2_カテゴリの優先度設定
;-------------------------------------------------
@COM_AUTOSELECT_SET_CATEGORY_PRIORITY(MAIN_PLAYER, MAIN_TARGET)
#DIM MAIN_PLAYER
#DIM MAIN_TARGET
#DIM L_COUNTER
#DIM L_COUNTER_CHECK
#DIM COM_AUTO_CHECK_FLAG_IS_CATEGORY
#DIM CHECK_FLAG_IS_WET_ENOUGH

;-------------------------------------------------
;## リセット
;-------------------------------------------------
VARSET COM_AUTO_CATEGORY_PRIORITY, 0

;-------------------------------------------------
;## COM_CATEGORY_NUM_愛撫する
;	無条件
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_愛撫する += GET_INITIATIVE_U_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_愛撫する += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_愛撫する += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_愛撫する += AUTO_N_TYPE_クール(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_愛撫する += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_愛撫する += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_愛撫する += AUTO_N_TYPE_魅了(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_愛撫する += AUTO_N_TYPE_魅了(MASTER, 0)
;性的嗜好
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_愛撫する && GROUPMATCH(TALENT:MAIN_PLAYER:性的嗜好, 性的嗜好_愛撫する, 性的嗜好_奉仕する)
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_愛撫する *= 3
ENDIF
;陥落傾向
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_愛撫する && TALENT:MAIN_PLAYER:恋慕
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_愛撫する *= 2
ENDIF
;特殊勢力
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_愛撫する && TALENT:MAIN_PLAYER:特殊勢力素質 == 特殊勢力_自警団
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_愛撫する *= 2
ENDIF

;-------------------------------------------------
;## COM_CATEGORY_NUM_性交する
;-------------------------------------------------
;可否チェックリセット
VARSET COM_AUTO_CHECK_FLAG_IS_CATEGORY
;潤滑追加チェックリセット
VARSET CHECK_FLAG_IS_WET_ENOUGH
;-------------------------------------------------
;対象が慰安モブである、または特殊勢力かつサキュバスや自警団ではない
;-------------------------------------------------
IF CHECK_SP_SADIST_CHARA(MAIN_PLAYER) || GROUPMATCH(TALENT:MAIN_PLAYER:慰安モブ, 慰安_キャラ_犬, 慰安_キャラ_豚, 慰安_キャラ_馬, 慰安_キャラ_猿)
	;---------------------------------------------
	;対象男性・実行女性
	;---------------------------------------------
	IF IS_MALE(MAIN_TARGET) && IS_MALE(MAIN_PLAYER)
		;対象の潤滑・実行の倒錯度800以上・実行の主導度Ｕ800以上・実行のサドが必要
		IF COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_TARGET) && ABL:MAIN_PLAYER:倒錯度 >= 800 && ABL:MAIN_PLAYER:主導度Ｕ >= 800 && GETBIT(TALENT:MAIN_PLAYER:淫乱系, 素質_淫乱_サド)
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;対象の潤滑を満たせば条件を達成する
		ELSEIF ABL:MAIN_PLAYER:倒錯度 >= 800 && ABL:MAIN_PLAYER:主導度Ｕ >= 800 && GETBIT(TALENT:MAIN_PLAYER:淫乱系, 素質_淫乱_サド)
			CHECK_FLAG_IS_WET_ENOUGH = 1
		ENDIF
	;---------------------------------------------
	;対象男性・実行男性
	;---------------------------------------------
	ELSEIF IS_MALE(MAIN_TARGET) && IS_MALE(MAIN_PLAYER)
		;対象の潤滑・実行の倒錯度500以上・実行の主導度Ｕ500以上
		IF COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_TARGET) && ABL:MAIN_PLAYER:倒錯度 >= 500 && ABL:MAIN_PLAYER:主導度Ｕ >= 500
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;対象の潤滑を満たせば条件を達成する
		ELSEIF ABL:MAIN_PLAYER:倒錯度 >= 500 && ABL:MAIN_PLAYER:主導度Ｕ >= 500
			CHECK_FLAG_IS_WET_ENOUGH = 1
		ENDIF
	;---------------------------------------------
	;対象女性・実行女性　
	;---------------------------------------------
	ELSEIF IS_FEMALE(MAIN_TARGET) && IS_FEMALE(MAIN_PLAYER)
		;対象の潤滑・実行の倒錯度100以上・実行の主導度Ｕ100以上
		IF COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_TARGET) && ABL:MAIN_PLAYER:倒錯度 >= 100 && ABL:MAIN_PLAYER:主導度Ｕ >= 300
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;対象の潤滑を満たせば条件を達成する
		ELSEIF ABL:MAIN_PLAYER:倒錯度 >= 100 && ABL:MAIN_PLAYER:主導度Ｕ >= 100
			CHECK_FLAG_IS_WET_ENOUGH = 1
		ENDIF
	;---------------------------------------------
	;対象女性・実行男性
	;---------------------------------------------
	ELSEIF IS_FEMALE(MAIN_TARGET) && IS_MALE(MAIN_PLAYER)
		;対象の潤滑
		IF  COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_TARGET) 
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;対象の潤滑を満たせば条件を達成する
		ELSE
			CHECK_FLAG_IS_WET_ENOUGH = 1
		ENDIF
	ENDIF
;-------------------------------------------------
;対象が慰安モブでない、または特殊勢力でない、または特殊勢力であってもサキュバスや自警団
;-------------------------------------------------
ELSE
	;---------------------------------------------
	;対象男性＆実行女性 逆転するので最も倒錯度と主導度Ｕを要する
	;---------------------------------------------
	IF IS_MALE(MAIN_TARGET) && IS_FEMALE(MAIN_PLAYER)
		;対象の潤滑が不十分ならサド気が必要
		IF !COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_TARGET) && ABL:MAIN_PLAYER:倒錯度 >= 500 && ABL:MAIN_PLAYER:主導度Ｕ >= 500
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;対象の潤滑が充分なら、実行の倒錯度300以上・実行の主導度Ｕ300以上
		ELSEIF COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_TARGET) && ABL:MAIN_PLAYER:倒錯度 >= 300 && ABL:MAIN_PLAYER:主導度Ｕ >= 300
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;対象の潤滑を満たせば条件が達成される
		ELSEIF ABL:MAIN_PLAYER:倒錯度 >= 300 && ABL:MAIN_PLAYER:主導度Ｕ >= 300
			CHECK_FLAG_IS_WET_ENOUGH = 1
		ENDIF
	;---------------------------------------------
	;対象男性＆実行男性 男役を好む
	;---------------------------------------------
	ELSEIF IS_MALE(MAIN_TARGET) && IS_MALE(MAIN_PLAYER)
		;対象の潤滑が不十分ならサド気が必要
		IF !COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_TARGET) && ABL:MAIN_PLAYER:倒錯度 >= 100 && ABL:MAIN_PLAYER:主導度Ｕ >= 300
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;対象の潤滑が充分なら、実行の主導度Ｕ-100以上
		ELSEIF COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_TARGET) && ABL:MAIN_PLAYER:主導度Ｕ >= -100
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;対象の潤滑を満たせば条件が達成される
		ELSEIF ABL:MAIN_PLAYER:主導度Ｕ >= -100
			CHECK_FLAG_IS_WET_ENOUGH = 1
		ENDIF
	;---------------------------------------------
	;対象女性＆実行女性 女役を好む
	;---------------------------------------------
	ELSEIF IS_FEMALE(MAIN_TARGET) && IS_FEMALE(MAIN_PLAYER)
		;対象の潤滑が不十分ならサド気が必要
		IF !COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_TARGET) && ABL:MAIN_PLAYER:倒錯度 >= 300 && ABL:MAIN_PLAYER:主導度Ｕ >= 500
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;対象の潤滑が充分なら、実行の倒錯度100以上・実行の主導度Ｕ100以上
		ELSEIF COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_TARGET) && ABL:MAIN_PLAYER:倒錯度 >= 100 && ABL:MAIN_PLAYER:主導度Ｕ >= 100
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;対象の潤滑を満たせば条件が達成される
		ELSEIF ABL:MAIN_PLAYER:倒錯度 >= 100 && ABL:MAIN_PLAYER:主導度Ｕ >= 100
			CHECK_FLAG_IS_WET_ENOUGH = 1
		ENDIF
	;---------------------------------------------
	;対象女性＆実行男性
	;---------------------------------------------
	ELSEIF IS_FEMALE(MAIN_TARGET) && IS_MALE(MAIN_PLAYER)
		;対象の潤滑が不十分なら、実行の倒錯度100以上・実行の主導度Ｕ100以上
		IF !COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_TARGET) && ABL:MAIN_PLAYER:倒錯度 >= 100 && ABL:MAIN_PLAYER:主導度Ｕ >= 100
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;対象の潤滑が充分なら無条件
		ELSEIF COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_TARGET)
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;対象の潤滑を満たせば条件が達成される
		ELSE
			CHECK_FLAG_IS_WET_ENOUGH = 1
		ENDIF
	ENDIF
ENDIF
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交する += GET_INITIATIVE_U_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交する += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交する += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交する += AUTO_N_TYPE_クール(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交する += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交する += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交する += AUTO_N_TYPE_魅了(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交する += AUTO_N_TYPE_魅了(MASTER, 0)
;@IS_INSERT_MUTUAL	3=ARG:1がARG:0のＶに挿入	4=ARG:1がARG:0のＡに挿入
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交する > 0 && GROUPMATCH(IS_INSERT_MUTUAL(MAIN_PLAYER, MAIN_TARGET), 3, 4)
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交する /= 2
ENDIF
;性的嗜好
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交する > 0 && TALENT:MAIN_PLAYER:性的嗜好 == 性的嗜好_性交する
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交する *= 3
ENDIF
;陥落傾向
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交する > 0 && TALENT:MAIN_PLAYER:恋慕
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交する *= 2
ENDIF
;特殊勢力
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交する > 0 && TALENT:MAIN_PLAYER:特殊勢力素質 == 特殊勢力_ホフゴブリン
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交する *= 2
ENDIF
;特殊勢力陥落
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交する > 0 && TALENT:MAIN_PLAYER:特殊勢力陥落系 == 特殊勢力_サキュバス
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交する *= 2
ENDIF
;設定・男主人公への逆調教の傾向が我慢させる
;竿を弄らない設定とコメントされていたので、違いがわかりやすいよう後ろは積極に掘るようにしておく
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交する > 0 && CONFIG:8 == 1 && MAIN_TARGET == MASTER && HAS_PENIS(MAIN_TARGET) && GROUPMATCH(FLAG:調教モード, 調教_逆調教特殊, 調教_逆調教通常, 調教_慰安)
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交する *= 2
ENDIF
;初めの５ターンくらいは他の行動をとりやすい
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交する > 0 && TFLAG:55 < 5
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交する /= 10
ENDIF
;不可
IF !COM_AUTO_CHECK_FLAG_IS_CATEGORY
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交する = -1
ENDIF

;-------------------------------------------------
;## COM_CATEGORY_NUM_潤滑追加する
;	性交できないとき、避妊できないときの受け皿にも
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_潤滑追加する += GET_INITIATIVE_U_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_潤滑追加する += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_潤滑追加する += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_潤滑追加する += AUTO_N_TYPE_クール(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_潤滑追加する += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_潤滑追加する += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_潤滑追加する += AUTO_N_TYPE_魅了(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_潤滑追加する += AUTO_N_TYPE_魅了(MASTER, 0)
;濡れが足りない
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_潤滑追加する > 0 && !COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_TARGET)
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_潤滑追加する *= 3
ENDIF
;性的嗜好
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_潤滑追加する > 0 && TALENT:MAIN_PLAYER:性的嗜好 == 性的嗜好_性交する
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_潤滑追加する *= 3
ENDIF
;特殊勢力
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_潤滑追加する > 0 && TALENT:MAIN_PLAYER:特殊勢力素質 == 特殊勢力_ホフゴブリン
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_潤滑追加する *= 2
ENDIF
;陥落傾向
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_潤滑追加する > 0 && TALENT:MAIN_PLAYER:恋慕
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_潤滑追加する *= 2
ENDIF
;特殊素質
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_潤滑追加する > 0 && TALENT:MAIN_PLAYER:技師
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_潤滑追加する *= 2
ENDIF
;不可
IF !CHECK_FLAG_IS_WET_ENOUGH
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_潤滑追加する = -1
ENDIF

;-------------------------------------------------
;## COM_CATEGORY_NUM_避妊する
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_避妊する += GET_INITIATIVE_U_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_避妊する += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_避妊する += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_避妊する += AUTO_N_TYPE_クール(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_避妊する += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_避妊する += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_避妊する += AUTO_N_TYPE_魅了(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_避妊する += AUTO_N_TYPE_魅了(MASTER, 0)
;性的嗜好
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_避妊する > 0 && TALENT:MAIN_PLAYER:性的嗜好 == 性的嗜好_性交する
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_避妊する *= 3
ENDIF
;陥落傾向
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_避妊する > 0 && TALENT:MAIN_PLAYER:恋慕
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_避妊する *= 2
ENDIF
;特殊素質
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_避妊する > 0 && TALENT:MAIN_PLAYER:技師
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_避妊する *= 2
ENDIF
;不可
IF CHECK_SP_SADIST_CHARA(MAIN_PLAYER) || GROUPMATCH(TALENT:MAIN_PLAYER:慰安モブ, 慰安_キャラ_犬, 慰安_キャラ_豚, 慰安_キャラ_馬, 慰安_キャラ_猿)
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_避妊する = -1
ENDIF
IF !HAS_PENIS(MAIN_PLAYER) || !IS_FEMALE(MAIN_TARGET)
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_避妊する = -1
ENDIF

;-------------------------------------------------
;## COM_CATEGORY_NUM_道具使う
;	同所属・倒錯度100以上・主導度Ｕ100以上
;	違所属・無条件
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使う += GET_INITIATIVE_U_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使う += GET_PERVERSION_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使う += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使う += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使う += AUTO_N_TYPE_クール(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使う += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使う += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使う += AUTO_N_TYPE_魅了(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使う += AUTO_N_TYPE_魅了(MASTER, 0)
;性的嗜好
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使う > 0 && TALENT:MAIN_PLAYER:性的嗜好 == 性的嗜好_道具使う
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使う *= 3
ENDIF
;陥落傾向
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使う > 0 && TALENT:MAIN_PLAYER:主人
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使う *= 2
ENDIF
;特殊勢力
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使う > 0 && TALENT:MAIN_PLAYER:特殊勢力素質 == 特殊勢力_外来人
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使う *= 2
ENDIF
;特殊素質
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使う > 0 && TALENT:MAIN_PLAYER:技師
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使う *= 2
ENDIF
;道具使用の指定されていた慰安モブ
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使う > 0 && TALENT:MAIN_PLAYER:慰安モブ == 慰安_キャラ_妖精
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使う *= 2
ENDIF
;不可
IF !CHECK_SP_SADIST_CHARA(MAIN_PLAYER)
	IF CFLAG:MAIN_PLAYER:所属 == CFLAG:MAIN_TARGET:所属
		IF ABL:MAIN_PLAYER:倒錯度 < 100 || ABL:MAIN_PLAYER:主導度Ｕ < 100
			COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使う = -1
		ENDIF
	ENDIF
ENDIF

;-------------------------------------------------
;## COM_CATEGORY_NUM_加虐する
;	同所属・倒錯度300以上・主導度Ｕ300以上
;	違所属・倒錯度100以上・主導度Ｕ100以上
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_加虐する += GET_INITIATIVE_U_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_加虐する += GET_PERVERSION_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_加虐する += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_加虐する += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_加虐する += AUTO_N_TYPE_クール(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_加虐する += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_加虐する += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_加虐する += AUTO_N_TYPE_魅了(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_加虐する += AUTO_N_TYPE_魅了(MASTER, 0)
;性的嗜好
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_加虐する > 0 && TALENT:MAIN_PLAYER:性的嗜好 == 性的嗜好_ＳＭする
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_加虐する *= 3
ENDIF
;陥落傾向
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_加虐する > 0 && TALENT:MAIN_PLAYER:主人
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_加虐する *= 2
ENDIF
;特殊勢力
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_加虐する > 0 && TALENT:MAIN_PLAYER:特殊勢力素質 == 特殊勢力_狂信者
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_加虐する *= 2
ENDIF
;主導度Ｕが高く設定されていた慰安モブ
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_加虐する > 0 && GROUPMATCH(TALENT:MAIN_PLAYER:慰安モブ, 慰安_キャラ_天狗, 慰安_キャラ_野盗, 慰安_キャラ_月人)
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_加虐する *= 2
ENDIF
;不可
IF !CHECK_SP_SADIST_CHARA(MAIN_PLAYER)
	IF CFLAG:MAIN_PLAYER:所属 == CFLAG:MAIN_TARGET:所属
		IF ABL:MAIN_PLAYER:倒錯度 < 300 || ABL:MAIN_PLAYER:主導度Ｕ < 300
			COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_加虐する = -1
		ENDIF
	ELSE
		IF ABL:MAIN_PLAYER:倒錯度 < 100 || ABL:MAIN_PLAYER:主導度Ｕ < 100
			COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_加虐する = -1
		ENDIF
	ENDIF
ENDIF

;-------------------------------------------------
;## COM_CATEGORY_NUM_酷く加虐する
;	攻め役特殊キャラは除く
;	同所属・倒錯度800以上・主導度Ｕ800以上・サド
;	違所属・倒錯度500以上・主導度Ｕ500以上
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_酷く加虐する = GET_INITIATIVE_U_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_酷く加虐する += GET_PERVERSION_RANK(MAIN_PLAYER) * 5
;性的嗜好
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_酷く加虐する > 0 && TALENT:MAIN_PLAYER:性的嗜好 == 性的嗜好_ＳＭする
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_酷く加虐する *= 3
ENDIF
;不可
IF !CHECK_SP_SADIST_CHARA(MAIN_PLAYER)
	IF CFLAG:MAIN_PLAYER:所属 == CFLAG:MAIN_TARGET:所属
		IF !GETBIT(TALENT:MAIN_PLAYER:淫乱系, 素質_淫乱_サド) || ABL:MAIN_PLAYER:倒錯度 < 800 || ABL:MAIN_PLAYER:主導度Ｕ < 800
			COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_酷く加虐する = -1
		ENDIF
	ELSE
		IF ABL:MAIN_PLAYER:倒錯度 < 500 || ABL:MAIN_PLAYER:主導度Ｕ < 500
			COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_酷く加虐する = -1
		ENDIF
	ENDIF
ENDIF

;-------------------------------------------------
;## COM_CATEGORY_NUM_露出する
;	倒錯度300以上 主導度Ｕ-300未満
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出する += GET_INITIATIVE_U_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出する += GET_PERVERSION_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出する += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出する += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出する += AUTO_N_TYPE_クール(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出する += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出する += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出する += AUTO_N_TYPE_魅了(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出する += AUTO_N_TYPE_魅了(MASTER, 0)
;性的嗜好
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出する > 0 && TALENT:MAIN_PLAYER:性的嗜好 == 性的嗜好_羞恥する
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出する *= 3
ENDIF
;陥落傾向
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出する > 0 && TALENT:MAIN_PLAYER:服従
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出する *= 2
ENDIF
;特殊勢力陥落
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出する > 0 && TALENT:MAIN_PLAYER:特殊勢力陥落系 == 特殊勢力_野盗
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出する *= 2
ENDIF
;名前通りの慰安モブ
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出する > 0 && TALENT:MAIN_PLAYER:慰安モブ == 慰安_キャラ_露出狂
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出する *= 2
ENDIF
;不可
IF CHECK_SP_SADIST_CHARA(MAIN_PLAYER) && TALENT:MAIN_PLAYER:慰安モブ != 慰安_キャラ_露出狂
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出する = -1
ENDIF
IF ABL:MAIN_PLAYER:倒錯度 < 300 || ABL:MAIN_PLAYER:主導度Ｕ >= -300
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出する = -1
ENDIF

;-------------------------------------------------
;## COM_CATEGORY_NUM_排泄する
;	排泄1・倒錯度300以上・主導度Ｕが-300未満か主導度が300以上
;	陥落傾向がＳかＭか判別しにくいのでどっちでも
;	四足歩行の動物は制限しない
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_排泄する += GET_INITIATIVE_U_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_排泄する += GET_PERVERSION_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_排泄する += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_排泄する += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_排泄する += AUTO_N_TYPE_クール(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_排泄する += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_排泄する += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_排泄する += AUTO_N_TYPE_魅了(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_排泄する += AUTO_N_TYPE_魅了(MASTER, 0)
;性的嗜好
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_排泄する > 0 && TALENT:MAIN_PLAYER:性的嗜好 == 性的嗜好_羞恥する
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_排泄する *= 3
ENDIF
;特殊勢力陥落
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_排泄する > 0 && TALENT:MAIN_PLAYER:特殊勢力陥落系 == 特殊勢力_野盗
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_排泄する *= 2
ENDIF
;名前通りの慰安モブ
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_排泄する > 0 && TALENT:MAIN_PLAYER:慰安モブ == 慰安_キャラ_露出狂
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_排泄する *= 2
ENDIF
;不可
IF !CHECK_SP_SADIST_CHARA(MAIN_PLAYER)
	IF !GROUPMATCH(TALENT:MAIN_PLAYER:慰安モブ, 慰安_キャラ_犬, 慰安_キャラ_豚, 慰安_キャラ_馬, 慰安_キャラ_猿)
		IF ABL:MAIN_PLAYER:排泄 < 1 || ABL:MAIN_PLAYER:倒錯度 < 300 || (ABL:MAIN_PLAYER:主導度Ｕ > -300 && ABL:MAIN_PLAYER:主導度Ｕ < 300)
			COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_排泄する = -1
		ENDIF
	ENDIF
ENDIF

;-------------------------------------------------
;## COM_CATEGORY_NUM_触手を扱う
;	同勢力・妖術知識・倒錯度500以上・主導度Ｕ500以上
;	違勢力・妖術知識・倒錯度300以上・主導度Ｕ300以上
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_触手を扱う += GET_INITIATIVE_U_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_触手を扱う += GET_PERVERSION_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_触手を扱う += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_触手を扱う += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_触手を扱う += AUTO_N_TYPE_クール(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_触手を扱う += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_触手を扱う += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_触手を扱う += AUTO_N_TYPE_魅了(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_触手を扱う += AUTO_N_TYPE_魅了(MASTER, 0)
;性的嗜好
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_触手を扱う > 0 && TALENT:MAIN_PLAYER:性的嗜好 == 性的嗜好_触手する
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_触手を扱う *= 3
ENDIF
;陥落傾向
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_触手を扱う > 0 && TALENT:MAIN_PLAYER:主人
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_触手を扱う *= 2
ENDIF
;特殊勢力
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_触手を扱う > 0 && TALENT:MAIN_PLAYER:特殊勢力素質 == 特殊勢力_触手
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_触手を扱う *= 2
ENDIF
;不可
IF !TALENT:MAIN_PLAYER:妖術知識
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_触手を扱う = -1
ENDIF
IF !CHECK_SP_SADIST_CHARA(MAIN_PLAYER)
	IF CFLAG:MAIN_PLAYER:所属 == CFLAG:MAIN_TARGET:所属
		IF ABL:MAIN_PLAYER:倒錯度 < 500 || ABL:MAIN_PLAYER:主導度Ｕ < 500
			COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_触手を扱う = -1
		ENDIF
	ELSE
		IF ABL:MAIN_PLAYER:倒錯度 < 300 || ABL:MAIN_PLAYER:主導度Ｕ < 300
			COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_触手を扱う = -1
		ENDIF
	ENDIF
ENDIF

;-------------------------------------------------
;## COM_CATEGORY_NUM_愛撫させる
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_愛撫させる += GET_INITIATIVE_U_RANK(MAIN_PLAYER) * -1 * 5
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_愛撫させる += AUTO_N_TYPE_活発(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_愛撫させる += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_愛撫させる += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_愛撫させる += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_愛撫させる += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_愛撫させる += AUTO_N_TYPE_魅了(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_愛撫させる += AUTO_N_TYPE_魅了(MASTER, 1)
;性的嗜好
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_愛撫させる > 0 && GROUPMATCH(TALENT:MAIN_PLAYER:性的嗜好, 性的嗜好_愛撫される, 性的嗜好_奉仕される)
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_愛撫させる *= 3
ENDIF
;陥落傾向
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_愛撫させる > 0 && TALENT:MAIN_PLAYER:恋慕
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_愛撫させる *= 2
ENDIF
;特殊勢力陥落
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_愛撫させる > 0 && TALENT:MAIN_PLAYER:特殊勢力陥落系 == 特殊勢力_自警団
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_愛撫させる *= 2
ENDIF

;-------------------------------------------------
;## COM_CATEGORY_NUM_性交させる
;-------------------------------------------------
;可否チェックリセット
VARSET COM_AUTO_CHECK_FLAG_IS_CATEGORY
;潤滑追加チェックリセット
VARSET CHECK_FLAG_IS_WET_ENOUGH
;-------------------------------------------------
;対象が慰安モブである、または特殊勢力でありサキュバスや自警団ではない
;-------------------------------------------------
IF CHECK_SP_SADIST_CHARA(MAIN_TARGET) || GROUPMATCH(TALENT:MAIN_TARGET:慰安モブ, 慰安_キャラ_犬, 慰安_キャラ_豚, 慰安_キャラ_馬, 慰安_キャラ_猿)
	;---------------------------------------------
	;実行男性
	;---------------------------------------------
	IF IS_MALE(MAIN_PLAYER)
		;実行の潤滑・実行の倒錯度800以上・実行の主導度Ｕ-800未満・実行のマゾが必要
		IF COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_PLAYER) && ABL:MAIN_PLAYER:倒錯度 >= 800 && ABL:MAIN_PLAYER:主導度Ｕ < -800 && GETBIT(TALENT:MAIN_PLAYER:淫乱系, 素質_淫乱_マゾ)
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;実行の潤滑を満たせば条件を達成する
		ELSEIF ABL:MAIN_PLAYER:倒錯度 >= 800 && ABL:MAIN_PLAYER:主導度Ｕ < -800 && GETBIT(TALENT:MAIN_PLAYER:淫乱系, 素質_淫乱_マゾ)
			CHECK_FLAG_IS_WET_ENOUGH = 1
		ENDIF
	;---------------------------------------------
	;実行女性
	;---------------------------------------------
	ELSE
		;実行の潤滑
		IF COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_PLAYER) 
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;実行の潤滑を満たせば条件を達成する
		ELSE
			CHECK_FLAG_IS_WET_ENOUGH = 1
		ENDIF
	ENDIF
;-------------------------------------------------
;対象が慰安モブでない、または特殊勢力でない、または特殊勢力であってもサキュバスや自警団
;-------------------------------------------------
ELSE
	;-------------------------------------------------
	;対象女性＆実行男性 逆転するので最も倒錯度と主導度Ｕマイナスを要する
	;-------------------------------------------------
	IF IS_FEMALE(MAIN_TARGET) && IS_MALE(MAIN_PLAYER)
		;自分の潤滑が不十分ならマゾ気が必要
		IF !COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_PLAYER) && ABL:MAIN_PLAYER:倒錯度 >= 500 && ABL:MAIN_PLAYER:主導度Ｕ < -500
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;自分の潤滑が充分なら、実行の倒錯度300以上・実行の主導度Ｕ-300未満
		ELSEIF COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_PLAYER) && ABL:MAIN_PLAYER:倒錯度 >= 300 && ABL:MAIN_PLAYER:主導度Ｕ < -300
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;実行の潤滑を満たせば条件を達成する
		ELSEIF ABL:MAIN_PLAYER:倒錯度 >= 300 && ABL:MAIN_PLAYER:主導度Ｕ < -300
			CHECK_FLAG_IS_WET_ENOUGH = 1
		ENDIF
	;---------------------------------------------
	;対象男性＆実行男性 男役を好む
	;---------------------------------------------
	ELSEIF IS_MALE(MAIN_TARGET) && IS_MALE(MAIN_PLAYER)
		;自分の潤滑が不十分ならマゾ気が必要
		IF !COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_PLAYER) && ABL:MAIN_PLAYER:倒錯度 >= 300 && ABL:MAIN_PLAYER:主導度Ｕ < -500
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;自分の潤滑が充分なら、実行の倒錯度100以上・実行の主導度Ｕ-100未満
		ELSEIF COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_PLAYER) && ABL:MAIN_PLAYER:倒錯度 >= 100 && ABL:MAIN_PLAYER:主導度Ｕ < -300
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;実行の潤滑を満たせば条件を達成する
		ELSEIF ABL:MAIN_PLAYER:倒錯度 >= 100 && ABL:MAIN_PLAYER:主導度Ｕ < -300
			CHECK_FLAG_IS_WET_ENOUGH = 1
		ENDIF
	;---------------------------------------------
	;対象女性＆実行女性 女役を好む
	;---------------------------------------------
	ELSEIF IS_FEMALE(MAIN_TARGET) && IS_FEMALE(MAIN_PLAYER)
		;自分の潤滑が不十分ならマゾ気が必要
		IF !COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_PLAYER) && ABL:MAIN_PLAYER:倒錯度 >= 100 && ABL:MAIN_PLAYER:主導度Ｕ < -300
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;自分の潤滑が充分なら、実行の主導度Ｕ100未満
		ELSEIF COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_PLAYER) && ABL:MAIN_PLAYER:主導度Ｕ < 100
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;実行の潤滑を満たせば条件を達成する
		ELSEIF ABL:MAIN_PLAYER:主導度Ｕ < 100
			CHECK_FLAG_IS_WET_ENOUGH = 1
		ENDIF
	;---------------------------------------------
	;対象男性＆実行女性
	;---------------------------------------------
	ELSEIF IS_MALE(MAIN_TARGET) && IS_FEMALE(MAIN_PLAYER)
		;自分の潤滑が不十分ならならマゾ気が必要
		IF !COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_PLAYER) && ABL:MAIN_PLAYER:倒錯度 >= 100 && ABL:MAIN_PLAYER:主導度Ｕ < -100
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;自分の潤滑が充分なら無条件
		ELSEIF COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_PLAYER)
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;実行の潤滑を満たせば条件を達成する
		ELSE
			CHECK_FLAG_IS_WET_ENOUGH = 1
		ENDIF
	ENDIF
ENDIF
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交させる += GET_INITIATIVE_U_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交させる += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交させる += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交させる += AUTO_N_TYPE_クール(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交させる += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交させる += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交させる += AUTO_N_TYPE_魅了(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交させる += AUTO_N_TYPE_魅了(MASTER, 0)
;@IS_INSERT_MUTUAL	1=ARG:0がARG:1のＶに挿入	2=ARG:0がARG:1のＡに挿入
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交させる > 0 && GROUPMATCH(IS_INSERT_MUTUAL(MAIN_PLAYER, MAIN_TARGET), 1, 2)
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交させる /= 2
ENDIF
;性的嗜好
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交させる > 0 && TALENT:MAIN_PLAYER:性的嗜好 == 性的嗜好_性交される
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交させる *= 3
ENDIF
;陥落傾向
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交させる > 0 && TALENT:MAIN_PLAYER:恋慕
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交させる *= 2
ENDIF
;特殊勢力
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交させる > 0 && TALENT:MAIN_PLAYER:特殊勢力素質 == 特殊勢力_サキュバス
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交させる *= 2
ENDIF
;特殊勢力陥落
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交させる > 0 && TALENT:MAIN_PLAYER:特殊勢力陥落系 == 特殊勢力_ホフゴブリン
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交させる *= 2
ENDIF
;設定・男主人公への逆調教の傾向が我慢させる
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交させる > 0 && CONFIG:8 == 1 && MAIN_TARGET == MASTER && HAS_PENIS(MAIN_TARGET) && GROUPMATCH(FLAG:調教モード, 調教_逆調教特殊, 調教_逆調教通常, 調教_慰安)
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交させる = -1
ENDIF
;不可
IF !COM_AUTO_CHECK_FLAG_IS_CATEGORY
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交させる = -1
ENDIF

;-------------------------------------------------
;## COM_CATEGORY_NUM_潤滑追加させる
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_潤滑追加させる += GET_INITIATIVE_U_RANK(MAIN_PLAYER) * -1 * 5
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_潤滑追加させる += AUTO_N_TYPE_活発(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_潤滑追加させる += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_潤滑追加させる += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_潤滑追加させる += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_潤滑追加させる += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_潤滑追加させる += AUTO_N_TYPE_魅了(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_潤滑追加させる += AUTO_N_TYPE_魅了(MASTER, 1)
;濡れが足りない
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_潤滑追加させる > 0 && !COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_PLAYER)
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_潤滑追加させる *= 3
ENDIF
;性的嗜好
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_潤滑追加させる > 0 && TALENT:MAIN_PLAYER:性的嗜好 == 性的嗜好_性交される
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_潤滑追加させる *= 3
ENDIF
;陥落傾向
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_潤滑追加させる > 0 && TALENT:MAIN_PLAYER:恋慕
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_潤滑追加させる *= 2
ENDIF
;特殊素質
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_潤滑追加させる > 0 && TALENT:MAIN_PLAYER:技師
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_潤滑追加させる *= 2
ENDIF
;不可
IF !CHECK_FLAG_IS_WET_ENOUGH
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_潤滑追加させる = -1
ENDIF

;-------------------------------------------------
;## COM_CATEGORY_NUM_避妊させる
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_避妊させる += GET_INITIATIVE_U_RANK(MAIN_PLAYER) * -1 * 5
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_避妊させる += AUTO_N_TYPE_活発(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_避妊させる += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_避妊させる += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_避妊させる += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_避妊させる += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_避妊させる += AUTO_N_TYPE_魅了(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_避妊させる += AUTO_N_TYPE_魅了(MASTER, 1)
;性的嗜好
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_避妊させる > 0 && TALENT:MAIN_PLAYER:性的嗜好 == 性的嗜好_性交される
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_避妊させる *= 3
ENDIF
;陥落傾向
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_避妊させる > 0 && TALENT:MAIN_PLAYER:恋慕
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_避妊させる *= 2
ENDIF
;特殊素質
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_避妊させる > 0 && TALENT:MAIN_PLAYER:技師
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_避妊させる *= 2
ENDIF
;不可
IF !HAS_PENIS(MAIN_TARGET) || !IS_FEMALE(MAIN_PLAYER)
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_避妊させる = -1
ENDIF

;-------------------------------------------------
;## COM_CATEGORY_NUM_道具使わせる
;	同所属・無条件
;	違所属・倒錯度100以上・主導度Ｕ100以上
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使わせる += GET_INITIATIVE_U_RANK(MAIN_PLAYER) * -1 * 5
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使わせる += GET_PERVERSION_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使わせる += AUTO_N_TYPE_活発(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使わせる += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使わせる += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使わせる += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使わせる += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使わせる += AUTO_N_TYPE_魅了(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使わせる += AUTO_N_TYPE_魅了(MASTER, 1)
;性的嗜好
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使わせる > 0 && TALENT:MAIN_PLAYER:性的嗜好 == 性的嗜好_道具使われる
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使わせる *= 3
ENDIF
;陥落傾向
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使わせる > 0 && TALENT:MAIN_PLAYER:服従
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使わせる *= 2
ENDIF
;特殊勢力陥落
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使わせる > 0 && TALENT:MAIN_PLAYER:特殊勢力陥落系 == 特殊勢力_外来人
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使わせる *= 2
ENDIF
;特殊素質
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使わせる > 0 && TALENT:MAIN_PLAYER:技師
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使わせる *= 2
ENDIF
;不可
IF CFLAG:MAIN_PLAYER:所属 != CFLAG:MAIN_TARGET:所属
	IF ABL:MAIN_PLAYER:倒錯度 < 100 || ABL:MAIN_PLAYER:主導度Ｕ >= -100
		COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使わせる = -1
	ENDIF
ENDIF

;-------------------------------------------------
;## COM_CATEGORY_NUM_被虐する
;	倒錯度300以上・主導度Ｕ-300未満
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_被虐する += GET_INITIATIVE_U_RANK(MAIN_PLAYER) * -1 * 5
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_被虐する += GET_PERVERSION_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_被虐する += AUTO_N_TYPE_活発(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_被虐する += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_被虐する += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_被虐する += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_被虐する += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_被虐する += AUTO_N_TYPE_魅了(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_被虐する += AUTO_N_TYPE_魅了(MASTER, 1)
;性的嗜好
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_被虐する > 0 && TALENT:MAIN_PLAYER:性的嗜好 == 性的嗜好_ＳＭされる
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_被虐する *= 3
ENDIF
;陥落傾向
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_被虐する > 0 && TALENT:MAIN_PLAYER:服従
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_被虐する *= 2
ENDIF
;特殊勢力陥落
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_被虐する > 0 && TALENT:MAIN_PLAYER:特殊勢力陥落系 == 特殊勢力_狂信者
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_被虐する *= 2
ENDIF
;不可
IF ABL:MAIN_PLAYER:倒錯度 < 300 || ABL:MAIN_PLAYER:主導度Ｕ >= -300
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_被虐する = -1
ENDIF

;-------------------------------------------------
;## COM_CATEGORY_NUM_酷く被虐する
;	倒錯度800以上・主導度Ｕ800以上・マゾ
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_酷く被虐する = GET_INITIATIVE_U_RANK(MAIN_PLAYER) * -1 * 5
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_酷く被虐する += GET_PERVERSION_RANK(MAIN_PLAYER) * 5
;性的嗜好
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_酷く被虐する > 0 && TALENT:MAIN_PLAYER:性的嗜好 == 性的嗜好_ＳＭされる
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_酷く被虐する *= 3
ENDIF
;不可
IF ABL:MAIN_PLAYER:倒錯度 < 800 || ABL:MAIN_PLAYER:主導度Ｕ >= -800 && !GETBIT(TALENT:MAIN_PLAYER:淫乱系, 素質_淫乱_マゾ)
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_酷く被虐する = -1
ENDIF

;-------------------------------------------------
;## COM_CATEGORY_NUM_露出させる
;	同所属・倒錯度300以上・主導度Ｕ300以上
;	違所属・倒錯度100以上・主導度Ｕ100以上
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出させる += GET_INITIATIVE_U_RANK(MAIN_PLAYER) * -1 * 5
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出させる += GET_PERVERSION_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出させる += AUTO_N_TYPE_活発(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出させる += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出させる += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出させる += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出させる += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出させる += AUTO_N_TYPE_魅了(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出させる += AUTO_N_TYPE_魅了(MASTER, 1)
;性的嗜好
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出させる > 0 && TALENT:MAIN_PLAYER:性的嗜好 == 性的嗜好_羞恥される
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出させる *= 3
ENDIF
;陥落傾向
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出させる > 0 && TALENT:MAIN_PLAYER:主人
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出させる *= 2
ENDIF
;特殊勢力
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出させる > 0 && TALENT:MAIN_PLAYER:特殊勢力素質 == 特殊勢力_野盗
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出させる *= 2
ENDIF
;不可
IF !CHECK_SP_SADIST_CHARA(MAIN_PLAYER)
	IF CFLAG:MAIN_PLAYER:所属 == CFLAG:MAIN_TARGET:所属
		IF ABL:MAIN_PLAYER:倒錯度 < 300 || ABL:MAIN_PLAYER:主導度Ｕ < 300
			COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出させる = -1
		ENDIF
	ELSE
		IF ABL:MAIN_PLAYER:倒錯度 < 100 || ABL:MAIN_PLAYER:主導度Ｕ < 100
			COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出させる = -1
		ENDIF
	ENDIF
ENDIF

;-------------------------------------------------
;## COM_CATEGORY_NUM_排泄させる
;	排泄1・倒錯度300以上・主導度Ｕが-300未満か主導度が300以上
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_排泄させる += GET_INITIATIVE_U_RANK(MAIN_PLAYER) * -1 * 5
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_排泄させる += GET_PERVERSION_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_排泄させる += AUTO_N_TYPE_活発(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_排泄させる += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_排泄させる += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_排泄させる += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_排泄させる += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_排泄させる += AUTO_N_TYPE_魅了(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_排泄させる += AUTO_N_TYPE_魅了(MASTER, 1)
;性的嗜好
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_排泄させる > 0 && TALENT:MAIN_PLAYER:性的嗜好 == 性的嗜好_羞恥される
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_排泄させる *= 3
ENDIF
;特殊勢力
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_排泄させる > 0 && TALENT:MAIN_PLAYER:特殊勢力素質 == 特殊勢力_狂信者
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_排泄させる *= 2
ENDIF
;不可
IF !CHECK_SP_SADIST_CHARA(MAIN_PLAYER)
	IF ABL:MAIN_PLAYER:排泄 < 1 || ABL:MAIN_PLAYER:倒錯度 < 300 || (ABL:MAIN_PLAYER:主導度Ｕ >= -300 && ABL:MAIN_PLAYER:主導度Ｕ < 300)
		COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_排泄させる = -1
	ENDIF
ENDIF

;-------------------------------------------------
;## COM_CATEGORY_NUM_触手を扱わせる
;	魔術知識・倒錯度500以上・主導度Ｕ-500未満
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_触手を扱わせる += GET_INITIATIVE_U_RANK(MAIN_PLAYER) * -1 * 5
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_触手を扱わせる += GET_PERVERSION_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_触手を扱わせる += AUTO_N_TYPE_活発(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_触手を扱わせる += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_触手を扱わせる += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_触手を扱わせる += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_触手を扱わせる += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_触手を扱わせる += AUTO_N_TYPE_魅了(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_触手を扱わせる += AUTO_N_TYPE_魅了(MASTER, 1)
IF !TALENT:MAIN_TARGET:妖術知識 || ABL:MAIN_PLAYER:倒錯度 < 500 || ABL:MAIN_PLAYER:主導度Ｕ >= -500
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_触手を扱わせる = -1
ENDIF
;性的嗜好
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_触手を扱わせる > 0 && TALENT:MAIN_PLAYER:性的嗜好 == 性的嗜好_触手される
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_触手を扱わせる *= 3
ENDIF
;陥落傾向
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_触手を扱わせる > 0 && TALENT:MAIN_PLAYER:服従
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_触手を扱わせる *= 2
ENDIF
;特殊勢力陥落
IF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_触手を扱わせる > 0 && TALENT:MAIN_PLAYER:特殊勢力陥落系 == 特殊勢力_触手
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_触手を扱わせる *= 2
ENDIF

;-------------------------------------------------
;## COM_CATEGORY_NUM_説得
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_説得 = -1

[IF_DEBUG]
	DEBUGPRINTFORML 
	DEBUGPRINTFORML #### カテゴリ優先度 基本設定後
	FOR L_COUNTER, 1, COM_CATEGORY_MAX + 1
		IF COM_AUTO_CATEGORY_PRIORITY:L_COUNTER > 0
			DEBUGPRINTFORML {L_COUNTER, 4}.%COM_AUTO_COM_CATEGORY_NAME(L_COUNTER), 26, LEFT%.%NUM_FORMAT(COM_AUTO_CATEGORY_PRIORITY:L_COUNTER), 10, RIGHT%
		ENDIF
	NEXT
[ENDIF]

;-------------------------------------------------
;## 疲れてきた
;-------------------------------------------------
IF BASE:MAIN_PLAYER:体力 <= MAXBASE:MAIN_PLAYER:体力 / 2
	DEBUGPRINTFORML 
	DEBUGPRINTFORML     %ANAME(MAIN_PLAYER)%は疲れている
	SIF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交する > 0
		COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交する /= 10
	SIF COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交させる > 0
		COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交させる /= 10
ENDIF

;-------------------------------------------------
;## 特殊勢力・慰安モブの男性
;	上の指定ではCHECK_SP_SADIST_CHARA（慰安モブは動物以外、特殊勢力は自警団・サキュバス以外）
;	で攻め役を判断し、Ｓ行動の制限をなくしている
;	が、Ｍ行動は特に制限していない。理由はＭな淫乱痴女キャラを制限しないようにするため
;	男性のみ自主的なＭ行動を制限して竿役らしくする、排泄は判断がつかないのでスルー
;-------------------------------------------------
IF IS_MALE(MAIN_PLAYER) && (TALENT:MAIN_PLAYER:特殊勢力素質 || TALENT:MAIN_PLAYER:慰安モブ)
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交させる = -1
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_潤滑追加させる = -1
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_避妊させる = -1
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出する = -1
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使わせる = -1
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_被虐する = -1
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_酷く被虐する = -1
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_触手を扱わせる = -1
ENDIF

;男慰安モブ側が実行なら。対象の場合はこの限りではない
IF TALENT:MAIN_PLAYER:慰安モブ && IS_MALE(MAIN_PLAYER)
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交させる = -1
	;オナホコキ指示をできるようにするには
	;コマンドの優先度設定側で分岐させて道具使わせるを生かす必要あり
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使わせる = -1
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_被虐する = -1
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_酷く被虐する = -1
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出する = -1
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_触手を扱わせる = -1
ENDIF

;-------------------------------------------------
;## 動物モブ
;	対象なら、キャラ側から避妊させたり道具を使うことはできる
;-------------------------------------------------
IF GROUPMATCH(TALENT:MAIN_PLAYER:慰安モブ, 慰安_キャラ_犬, 慰安_キャラ_豚,  慰安_キャラ_馬, 慰安_キャラ_猿)
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使う = -1
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使わせる = -1
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_加虐する = -1
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_被虐する = -1
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出する = -1
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出させる = -1
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_酷く加虐する = -1
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_酷く被虐する = -1
ENDIF
IF GROUPMATCH(TALENT:MAIN_TARGET:慰安モブ, 慰安_キャラ_犬, 慰安_キャラ_豚,  慰安_キャラ_馬, 慰安_キャラ_猿)
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使わせる = -1
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_加虐する = -1
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_被虐する = -1
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_酷く加虐する = -1
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_酷く被虐する = -1
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出する = -1
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出させる = -1
	;キャラから動物に排泄を求めると散歩やお世話のようになりそうなので制限
	COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_排泄させる = -1
ENDIF

;-------------------------------------------------
;## 男性のＡ狙いを禁止設定
;-------------------------------------------------
IF !CONFIG:11
	IF TOSTR_SEX(TALENT:MAIN_PLAYER:性別) == "男性"
		COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_避妊させる = -1
		COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_潤滑追加させる = -1
		COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交させる = -1
	ENDIF
	IF TOSTR_SEX(TALENT:MAIN_TARGET:性別) == "男性"
		COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_避妊する = -1
		COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_潤滑追加する = -1
		COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交する = -1
	ENDIF
ENDIF

;-------------------------------------------------
;## 登録漏れ確認
;-------------------------------------------------
[IF_DEBUG]
	DEBUGPRINTFORML 
	DEBUGPRINTFORML #### カテゴリ優先度 登録漏れ確認
	FOR L_COUNTER, 1, COM_CATEGORY_MAX + 1
		SIF COM_AUTO_CATEGORY_PRIORITY:L_COUNTER != 0
			CONTINUE
		DEBUGPRINTFORML {L_COUNTER, 4}.%COM_AUTO_N_COM_CATEGORY_NAME(L_COUNTER), 26, LEFT% カテゴリなし
	NEXT
[ENDIF]

;-------------------------------------------------
;## 各カテゴリの優先度を最低値以上に
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_愛撫する = MAX(COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_愛撫する, 2)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交する = MAX(COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交する, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使う = MAX(COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使う, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_加虐する = MAX(COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_加虐する, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出する = MAX(COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出する, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_触手を扱う = MAX(COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_触手を扱う, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_愛撫させる = MAX(COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_愛撫させる, 2)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交させる = MAX(COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_性交させる, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使わせる = MAX(COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_道具使わせる, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_被虐する = MAX(COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_被虐する, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出させる = MAX(COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_露出させる, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_触手を扱わせる = MAX(COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_触手を扱わせる, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_説得 = MAX(COM_AUTO_CATEGORY_PRIORITY:COM_CATEGORY_NUM_説得, 0)

;-------------------------------------------------
;## カテゴリの予約
;	許可されていれば、そのカテゴリの選択率を大幅に上昇
;	潤滑許可するとローション塗りからの予約行動で性交が出る可能性あり
;	第三者でゴムやローションからの予約発動が起きることがあるので
;	カテゴリが0なら予約発動しないようにした
;-------------------------------------------------
IF TFLAG:30 >= 1 && COM_AUTO_CATEGORY_PRIORITY:(TFLAG:30) > 0
	COM_AUTO_CATEGORY_PRIORITY:(TFLAG:30) += 10000
ENDIF

[IF_DEBUG]
	DEBUGPRINTFORML 
	DEBUGPRINTFORML #### カテゴリ優先度 補正設定後
	FOR L_COUNTER, 1, COM_CATEGORY_MAX + 1
		IF COM_AUTO_CATEGORY_PRIORITY:L_COUNTER > 0
			DEBUGPRINTFORML {L_COUNTER, 4}.%COM_AUTO_COM_CATEGORY_NAME(L_COUNTER), 26, LEFT%.%NUM_FORMAT(COM_AUTO_CATEGORY_PRIORITY:L_COUNTER), 10, RIGHT%
		ENDIF
	NEXT
[ENDIF]

RETURN 0

